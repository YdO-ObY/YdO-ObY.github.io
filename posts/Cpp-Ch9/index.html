<!DOCTYPE html><html lang="en" ><head><meta http-equiv="Content-Type" content="text/html; charset=UTF-8"><meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no"><meta name="generator" content="Jekyll v4.3.1" /><meta property="og:title" content="[C++] Chapter.9 연산자 오버로딩" /><meta property="og:locale" content="en" /><meta name="description" content="A minimal, responsive, and powerful Jekyll theme for presenting professional writing." /><meta property="og:description" content="A minimal, responsive, and powerful Jekyll theme for presenting professional writing." /><link rel="canonical" href="https://ydo-oby.github.io//posts/Cpp-Ch9/" /><meta property="og:url" content="https://ydo-oby.github.io//posts/Cpp-Ch9/" /><meta property="og:site_name" content="YdO-ObY" /><meta property="og:type" content="article" /><meta property="article:published_time" content="2022-09-24T22:20:19+09:00" /><meta name="twitter:card" content="summary" /><meta property="twitter:title" content="[C++] Chapter.9 연산자 오버로딩" /><meta name="twitter:site" content="@twitter_username" /> <script type="application/ld+json"> {"@context":"https://schema.org","@type":"BlogPosting","dateModified":"2022-10-07T20:34:05+09:00","datePublished":"2022-09-24T22:20:19+09:00","description":"A minimal, responsive, and powerful Jekyll theme for presenting professional writing.","headline":"[C++] Chapter.9 연산자 오버로딩","mainEntityOfPage":{"@type":"WebPage","@id":"https://ydo-oby.github.io//posts/Cpp-Ch9/"},"url":"https://ydo-oby.github.io//posts/Cpp-Ch9/"}</script><title>[C++] Chapter.9 연산자 오버로딩 | YdO-ObY</title><link rel="apple-touch-icon" sizes="180x180" href="/assets/img/favicons/apple-touch-icon.png"><link rel="icon" type="image/png" sizes="32x32" href="/assets/img/favicons/favicon-32x32.png"><link rel="icon" type="image/png" sizes="16x16" href="/assets/img/favicons/favicon-16x16.png"><link rel="manifest" href="/assets/img/favicons/site.webmanifest"><link rel="shortcut icon" href="/assets/img/favicons/favicon.ico"><meta name="apple-mobile-web-app-title" content="YdO-ObY"><meta name="application-name" content="YdO-ObY"><meta name="msapplication-TileColor" content="#da532c"><meta name="msapplication-config" content="/assets/img/favicons/browserconfig.xml"><meta name="theme-color" content="#ffffff"><link rel="preconnect" href="https://fonts.googleapis.com" ><link rel="dns-prefetch" href="https://fonts.googleapis.com" ><link rel="preconnect" href="https://fonts.gstatic.com" crossorigin><link rel="dns-prefetch" href="https://fonts.gstatic.com" crossorigin><link rel="preconnect" href="https://fonts.googleapis.com" ><link rel="dns-prefetch" href="https://fonts.googleapis.com" ><link rel="preconnect" href="https://cdn.jsdelivr.net" ><link rel="dns-prefetch" href="https://cdn.jsdelivr.net" ><link rel="stylesheet" href="https://fonts.googleapis.com/css2?family=Lato&family=Source+Sans+Pro:wght@400;600;700;900&display=swap"><link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/bootstrap@4/dist/css/bootstrap.min.css"><link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/@fortawesome/fontawesome-free@5.11.2/css/all.min.css"><link rel="stylesheet" href="/assets/css/style.css"><link rel="stylesheet" href="https://cdn.jsdelivr.net/gh/afeld/bootstrap-toc@1.0.1/dist/bootstrap-toc.min.css"><link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/magnific-popup@1/dist/magnific-popup.min.css"> <script src="https://cdn.jsdelivr.net/npm/jquery@3/dist/jquery.min.js"></script> <script type="text/javascript"> class ModeToggle { static get MODE_KEY() { return "mode"; } static get MODE_ATTR() { return "data-mode"; } static get DARK_MODE() { return "dark"; } static get LIGHT_MODE() { return "light"; } static get ID() { return "mode-toggle"; } constructor() { if (this.hasMode) { if (this.isDarkMode) { if (!this.isSysDarkPrefer) { this.setDark(); } } else { if (this.isSysDarkPrefer) { this.setLight(); } } } let self = this; /* always follow the system prefers */ this.sysDarkPrefers.addEventListener("change", () => { if (self.hasMode) { if (self.isDarkMode) { if (!self.isSysDarkPrefer) { self.setDark(); } } else { if (self.isSysDarkPrefer) { self.setLight(); } } self.clearMode(); } self.notify(); }); } /* constructor() */ get sysDarkPrefers() { return window.matchMedia("(prefers-color-scheme: dark)"); } get isSysDarkPrefer() { return this.sysDarkPrefers.matches; } get isDarkMode() { return this.mode === ModeToggle.DARK_MODE; } get isLightMode() { return this.mode === ModeToggle.LIGHT_MODE; } get hasMode() { return this.mode != null; } get mode() { return sessionStorage.getItem(ModeToggle.MODE_KEY); } /* get the current mode on screen */ get modeStatus() { if (this.isDarkMode || (!this.hasMode && this.isSysDarkPrefer)) { return ModeToggle.DARK_MODE; } else { return ModeToggle.LIGHT_MODE; } } setDark() { $('html').attr(ModeToggle.MODE_ATTR, ModeToggle.DARK_MODE); sessionStorage.setItem(ModeToggle.MODE_KEY, ModeToggle.DARK_MODE); } setLight() { $('html').attr(ModeToggle.MODE_ATTR, ModeToggle.LIGHT_MODE); sessionStorage.setItem(ModeToggle.MODE_KEY, ModeToggle.LIGHT_MODE); } clearMode() { $('html').removeAttr(ModeToggle.MODE_ATTR); sessionStorage.removeItem(ModeToggle.MODE_KEY); } /* Notify another plugins that the theme mode has changed */ notify() { window.postMessage({ direction: ModeToggle.ID, message: this.modeStatus }, "*"); } } /* ModeToggle */ const toggle = new ModeToggle(); function flipMode() { if (toggle.hasMode) { if (toggle.isSysDarkPrefer) { if (toggle.isLightMode) { toggle.clearMode(); } else { toggle.setLight(); } } else { if (toggle.isDarkMode) { toggle.clearMode(); } else { toggle.setDark(); } } } else { if (toggle.isSysDarkPrefer) { toggle.setLight(); } else { toggle.setDark(); } } toggle.notify(); } /* flipMode() */ </script><body data-spy="scroll" data-target="#toc" data-topbar-visible="true"><div id="sidebar" class="d-flex flex-column align-items-end"><div class="profile-wrapper text-center"><div id="avatar"> <a href="/" class="mx-auto"> <img src="/assets/img/avatar3.PNG" alt="avatar" onerror="this.style.display='none'"> </a></div><div class="site-title mt-3"> <a href="/">YdO-ObY</a></div><div class="site-subtitle font-italic">나의 공부기록</div></div><ul class="w-100"><li class="nav-item"> <a href="/" class="nav-link"> <i class="fa-fw fas fa-home ml-xl-3 mr-xl-3 unloaded"></i> <span>HOME</span> </a><li class="nav-item"> <a href="/categories/" class="nav-link"> <i class="fa-fw fas fa-stream ml-xl-3 mr-xl-3 unloaded"></i> <span>CATEGORIES</span> </a><li class="nav-item"> <a href="/tags/" class="nav-link"> <i class="fa-fw fas fa-tag ml-xl-3 mr-xl-3 unloaded"></i> <span>TAGS</span> </a><li class="nav-item"> <a href="/archives/" class="nav-link"> <i class="fa-fw fas fa-archive ml-xl-3 mr-xl-3 unloaded"></i> <span>ARCHIVES</span> </a><li class="nav-item"> <a href="/about/" class="nav-link"> <i class="fa-fw fas fa-info-circle ml-xl-3 mr-xl-3 unloaded"></i> <span>ABOUT</span> </a></ul><div class="sidebar-bottom mt-auto d-flex flex-wrap justify-content-center align-items-center"> <button class="mode-toggle btn" aria-label="Switch Mode"> <i class="fas fa-adjust"></i> </button> <span class="icon-border"></span> <a href="https://github.com/YdO-ObY" aria-label="github" target="_blank" rel="noopener"> <i class="fab fa-github"></i> </a> <a href="https://twitter.com/twitter_username" aria-label="twitter" target="_blank" rel="noopener"> <i class="fab fa-twitter"></i> </a> <a href=" javascript:location.href = 'mailto:' + ['example','doamin.com'].join('@')" aria-label="email" > <i class="fas fa-envelope"></i> </a> <a href="/feed.xml" aria-label="rss" > <i class="fas fa-rss"></i> </a></div></div><div id="topbar-wrapper"><div id="topbar" class="container d-flex align-items-center justify-content-between h-100 pl-3 pr-3 pl-md-4 pr-md-4"> <span id="breadcrumb"> <span> <a href="/"> Home </a> </span> <span>[C++] Chapter.9 연산자 오버로딩</span> </span> <i id="sidebar-trigger" class="fas fa-bars fa-fw"></i><div id="topbar-title"> Post</div><i id="search-trigger" class="fas fa-search fa-fw"></i> <span id="search-wrapper" class="align-items-center"> <i class="fas fa-search fa-fw"></i> <input class="form-control" id="search-input" type="search" aria-label="search" autocomplete="off" placeholder="Search..."> </span> <span id="search-cancel" >Cancel</span></div></div><div id="main-wrapper" class="d-flex justify-content-center"><div id="main" class="container pl-xl-4 pr-xl-4"><div class="row"><div id="core-wrapper" class="col-12 col-lg-11 col-xl-9 pr-xl-4"><div class="post pl-1 pr-1 pl-md-2 pr-md-2"><h1 data-toc-skip>[C++] Chapter.9 연산자 오버로딩</h1><div class="post-meta text-muted"> <span> Posted <em class="" data-ts="1664025619" data-df="ll" data-toggle="tooltip" data-placement="bottom"> Sep 24, 2022 </em> </span> <span> Updated <em class="" data-ts="1665142445" data-df="ll" data-toggle="tooltip" data-placement="bottom"> Oct 7, 2022 </em> </span><div class="d-flex justify-content-between"> <span> By <em> <a href="https://github.com/YdO-ObY">YdO-ObY</a> </em> </span><div> <span class="readtime" data-toggle="tooltip" data-placement="bottom" title="5423 words"> <em>30 min</em> read</span></div></div></div><div class="post-content"><hr /><h2 id="산술-연산자-오버로딩-하기"><span class="mr-2">산술 연산자 오버로딩 하기</span><a href="#산술-연산자-오버로딩-하기" class="anchor text-muted"><i class="fas fa-hashtag"></i></a></h2><div class="language-cpp highlighter-rouge"><div class="code-header"> <span data-label-text="Cpp"><i class="fas fa-code small"></i></span> <button aria-label="copy" data-title-succeed="Copied!"><i class="far fa-clipboard"></i></button></div><div class="highlight"><code><table class="rouge-table"><tbody><tr><td class="rouge-gutter gl"><pre class="lineno">1
2
3
4
5
6
7
8
9
10
11
12
13
14
15
16
17
18
19
20
21
22
23
24
25
26
27
28
29
30
31
32
33
34
35
36
37
38
39
40
41
42
43
44
45
46
47
48
49
50
51
52
53
54
55
56
57
58
59
60
61
62
63
64
65
66
67
68
69
70
71
72
73
74
75
76
77
78
79
</pre><td class="rouge-code"><pre><span class="c1">// 산술 연산자 오버로딩 하기</span>

<span class="cp">#include</span> <span class="cpf">&lt;iostream&gt;</span><span class="cp">
</span>
<span class="k">using</span> <span class="k">namespace</span> <span class="n">std</span> <span class="p">;</span>

<span class="k">class</span> <span class="nc">Cents</span>
<span class="p">{</span>
<span class="nl">private:</span>
    <span class="kt">int</span> <span class="n">m_cents</span><span class="p">;</span>
    
<span class="nl">public:</span>
    <span class="n">Cents</span><span class="p">(</span><span class="kt">int</span> <span class="n">cents</span> <span class="o">=</span> <span class="mi">0</span><span class="p">)</span> <span class="p">{</span> <span class="n">m_cents</span> <span class="o">=</span> <span class="n">cents</span><span class="p">;</span> <span class="p">}</span>
    <span class="kt">int</span> <span class="n">getCents</span><span class="p">()</span> <span class="k">const</span> <span class="p">{</span> <span class="k">return</span> <span class="n">m_cents</span><span class="p">;</span> <span class="p">}</span>
    <span class="kt">int</span><span class="o">&amp;</span> <span class="n">getCents</span><span class="p">()</span> <span class="p">{</span> <span class="k">return</span> <span class="n">m_cents</span><span class="p">;</span> <span class="p">}</span>
    
    <span class="c1">//class 내부함수로 구현</span>
    <span class="n">Cents</span> <span class="k">operator</span> <span class="o">+</span><span class="p">(</span><span class="k">const</span> <span class="n">Cents</span><span class="o">&amp;</span> <span class="n">c2</span><span class="p">)</span>
    <span class="p">{</span>
        <span class="k">return</span> <span class="n">Cents</span><span class="p">(</span><span class="k">this</span><span class="o">-&gt;</span><span class="n">m_cents</span> <span class="o">+</span> <span class="n">c2</span><span class="p">.</span><span class="n">m_cents</span><span class="p">);</span>
    <span class="p">}</span>
    <span class="c1">//멤버 함수로 바꾸는경우 파라미터 오류가 발생한다.</span>
    <span class="c1">//c1을 this로 교체 해야한다.</span>
    <span class="c1">//member로만 해야하는 연산자가 존재한다.</span>
    <span class="c1">//=, [], (), -&gt;</span>
<span class="p">};</span>

<span class="kt">void</span> <span class="n">add</span><span class="p">(</span><span class="k">const</span> <span class="n">Cents</span><span class="o">&amp;</span> <span class="n">c1</span><span class="p">,</span> <span class="k">const</span> <span class="n">Cents</span><span class="o">&amp;</span> <span class="n">c2</span><span class="p">,</span> <span class="n">Cents</span><span class="o">&amp;</span> <span class="n">c_out</span> <span class="p">)</span>
<span class="p">{</span>
    <span class="n">c_out</span><span class="p">.</span><span class="n">getCents</span><span class="p">()</span> <span class="o">=</span> <span class="n">c1</span><span class="p">.</span><span class="n">getCents</span><span class="p">()</span> <span class="o">+</span> <span class="n">c2</span><span class="p">.</span><span class="n">getCents</span><span class="p">();</span>
<span class="p">}</span>


<span class="n">Cents</span> <span class="n">add</span><span class="p">(</span><span class="k">const</span> <span class="n">Cents</span><span class="o">&amp;</span> <span class="n">c1</span><span class="p">,</span> <span class="k">const</span> <span class="n">Cents</span><span class="o">&amp;</span> <span class="n">c2</span><span class="p">)</span>
<span class="p">{</span>
    <span class="k">return</span> <span class="n">Cents</span><span class="p">(</span><span class="n">c1</span><span class="p">.</span><span class="n">getCents</span><span class="p">()</span> <span class="o">+</span> <span class="n">c2</span><span class="p">.</span><span class="n">getCents</span><span class="p">());</span>
<span class="p">}</span>

<span class="c1">//getCent를 쓰는것이 귀찮을때 class에 병합하면 된다.</span>
<span class="c1">//Cents operator +(const Cents&amp; c1, const Cents&amp; c2)</span>
<span class="c1">//{</span>
<span class="c1">//    return Cents(c1.getCents() + c2.getCents());</span>
<span class="c1">//}</span>

<span class="kt">int</span> <span class="n">main</span><span class="p">()</span> <span class="p">{</span>
    <span class="c1">//기본 자료형에는 기본 산술 연산자(+, -, /, *, %)를 사용하는것을 알고있다.</span>
    <span class="c1">//사용자 정의 자료형에서도 산술 연산자를 만들어서 사용할 수 있다.</span>
    
    <span class="n">Cents</span> <span class="n">cents1</span><span class="p">(</span><span class="mi">6</span><span class="p">);</span>
    <span class="n">Cents</span> <span class="n">cents2</span><span class="p">(</span><span class="mi">8</span><span class="p">);</span>
    
    <span class="c1">//연산값 결과 instance</span>
    <span class="n">Cents</span> <span class="n">sum</span><span class="p">;</span>
    
    <span class="c1">//지금까지 배운것으로는 cents1, cents2 두개를 연산을 하고싶은경우 함수를 만드는것 밖에 없다.</span>
    <span class="n">add</span><span class="p">(</span><span class="n">cents1</span><span class="p">,</span> <span class="n">cents2</span><span class="p">,</span> <span class="n">sum</span><span class="p">);</span>
    
    <span class="n">cout</span> <span class="o">&lt;&lt;</span> <span class="n">sum</span><span class="p">.</span><span class="n">getCents</span><span class="p">()</span> <span class="o">&lt;&lt;</span> <span class="n">endl</span><span class="p">;</span>

    <span class="c1">//함수의 반환형을 cents로 만들수도 있다.</span>
    <span class="n">cout</span> <span class="o">&lt;&lt;</span> <span class="n">add</span><span class="p">(</span><span class="n">cents1</span><span class="p">,</span> <span class="n">cents2</span><span class="p">).</span><span class="n">getCents</span><span class="p">()</span> <span class="o">&lt;&lt;</span> <span class="n">endl</span><span class="p">;</span>
    
    <span class="c1">//이렇게 함수로 만들면 기본자료형에서 산술연산자를 사용한것보다 복잡해진다.</span>
    <span class="c1">//함수 이름을 operator + 로 바꾸면 연산자만 사용해서 출력이 가능하다.</span>
    <span class="n">cout</span> <span class="o">&lt;&lt;</span> <span class="p">(</span><span class="n">cents1</span> <span class="o">+</span> <span class="n">cents2</span><span class="p">).</span><span class="n">getCents</span><span class="p">()</span> <span class="o">&lt;&lt;</span> <span class="n">endl</span><span class="p">;</span>
    
    
    <span class="c1">//+말고 - * / % 다 가능하지만</span>
    <span class="c1">//안되는 연산자가 있다. ?: :: sizeof . .*</span>
    <span class="c1">//연산자오버로딩을 해도  연산자 우선순위는 바뀌지 않는다.</span>
    <span class="c1">//수학시간에 배운 직관적인것들만 오버로딩 하는것이 좋다.</span>
    <span class="c1">//위험한 코드보다 불편한 코드가 좋다.</span>
    
    <span class="c1">//+함수가 Cents를 반환하는데 class 밖에 잇는것이 보기 불편하므로 class 내부함수로 만들어 줄수있다.</span>
    
    
    <span class="k">return</span> <span class="mi">0</span><span class="p">;</span>
<span class="p">}</span>

</pre></table></code></div></div><h2 id="입출력-연산자-오버로딩-하기"><span class="mr-2">입출력 연산자 오버로딩 하기</span><a href="#입출력-연산자-오버로딩-하기" class="anchor text-muted"><i class="fas fa-hashtag"></i></a></h2><div class="language-cpp highlighter-rouge"><div class="code-header"> <span data-label-text="Cpp"><i class="fas fa-code small"></i></span> <button aria-label="copy" data-title-succeed="Copied!"><i class="far fa-clipboard"></i></button></div><div class="highlight"><code><table class="rouge-table"><tbody><tr><td class="rouge-gutter gl"><pre class="lineno">1
2
3
4
5
6
7
8
9
10
11
12
13
14
15
16
17
18
19
20
21
22
23
24
25
26
27
28
29
30
31
32
33
34
35
36
37
38
39
40
41
42
43
44
45
46
47
48
49
50
51
52
53
54
55
56
57
58
59
60
61
62
63
64
65
66
67
68
69
70
71
72
73
74
75
76
77
78
79
</pre><td class="rouge-code"><pre><span class="c1">// 입출력 연산자 오버로딩 하기</span>

<span class="cp">#include</span> <span class="cpf">&lt;iostream&gt;</span><span class="cp">
#include</span> <span class="cpf">&lt;fstream&gt;</span><span class="cp">
</span><span class="k">using</span> <span class="k">namespace</span> <span class="n">std</span><span class="p">;</span>

<span class="k">class</span> <span class="nc">Point</span>
<span class="p">{</span>
<span class="nl">private:</span>
    <span class="kt">double</span> <span class="n">m_x</span><span class="p">,</span> <span class="n">m_y</span><span class="p">,</span> <span class="n">m_z</span><span class="p">;</span>
    
<span class="nl">public:</span>
    <span class="n">Point</span><span class="p">(</span><span class="kt">double</span> <span class="n">x</span> <span class="o">=</span> <span class="mf">0.0</span><span class="p">,</span> <span class="kt">double</span> <span class="n">y</span> <span class="o">=</span> <span class="mf">0.0</span><span class="p">,</span> <span class="kt">double</span> <span class="n">z</span> <span class="o">=</span> <span class="mf">0.0</span><span class="p">)</span>
    <span class="o">:</span><span class="n">m_x</span><span class="p">(</span><span class="n">x</span><span class="p">),</span> <span class="n">m_y</span><span class="p">(</span><span class="n">y</span><span class="p">),</span> <span class="n">m_z</span><span class="p">(</span><span class="n">z</span><span class="p">)</span>
    <span class="p">{}</span>
    
    <span class="kt">double</span> <span class="n">getx</span><span class="p">()</span> <span class="p">{</span> <span class="k">return</span> <span class="n">m_x</span><span class="p">;</span> <span class="p">}</span>
    <span class="kt">double</span> <span class="n">gety</span><span class="p">()</span> <span class="p">{</span> <span class="k">return</span> <span class="n">m_y</span><span class="p">;</span> <span class="p">}</span>
    <span class="kt">double</span> <span class="n">getz</span><span class="p">()</span> <span class="p">{</span> <span class="k">return</span> <span class="n">m_z</span><span class="p">;</span> <span class="p">}</span>
    
    <span class="kt">void</span> <span class="n">print</span><span class="p">()</span>
    <span class="p">{</span>
        <span class="n">cout</span> <span class="o">&lt;&lt;</span> <span class="n">m_x</span> <span class="o">&lt;&lt;</span> <span class="s">", "</span> <span class="o">&lt;&lt;</span> <span class="n">m_y</span> <span class="o">&lt;&lt;</span> <span class="s">", "</span> <span class="o">&lt;&lt;</span> <span class="n">m_z</span> <span class="o">&lt;&lt;</span> <span class="n">endl</span><span class="p">;</span>
    <span class="p">}</span>
    
    <span class="c1">//멤버 함수로 만들수없는 이유 - out 파라미터가 ostream이므로 멤버 함수로 만들수가없다.</span>
    <span class="c1">//out 구현</span>
    <span class="k">friend</span> <span class="n">ostream</span><span class="o">&amp;</span> <span class="k">operator</span> <span class="o">&lt;&lt;</span> <span class="p">(</span><span class="n">ostream</span> <span class="o">&amp;</span><span class="n">out</span><span class="p">,</span> <span class="k">const</span> <span class="n">Point</span> <span class="o">&amp;</span><span class="n">point</span><span class="p">)</span>
    <span class="p">{</span>
        <span class="n">cout</span> <span class="o">&lt;&lt;</span> <span class="s">"("</span> <span class="o">&lt;&lt;</span> <span class="n">point</span><span class="p">.</span><span class="n">m_x</span> <span class="o">&lt;&lt;</span> <span class="s">", "</span> <span class="o">&lt;&lt;</span> <span class="n">point</span><span class="p">.</span><span class="n">m_y</span> <span class="o">&lt;&lt;</span> <span class="s">", "</span> <span class="o">&lt;&lt;</span> <span class="n">point</span><span class="p">.</span><span class="n">m_z</span> <span class="o">&lt;&lt;</span> <span class="s">")"</span><span class="p">;</span>
        
        <span class="k">return</span> <span class="n">out</span><span class="p">;</span>
        <span class="c1">//chaining하기 위해 리턴값을 가지고온다.</span>
    <span class="p">}</span>
    
    <span class="c1">//in 구현</span>
    <span class="k">friend</span> <span class="n">istream</span><span class="o">&amp;</span> <span class="k">operator</span> <span class="o">&gt;&gt;</span> <span class="p">(</span><span class="n">istream</span> <span class="o">&amp;</span><span class="n">in</span><span class="p">,</span> <span class="n">Point</span> <span class="o">&amp;</span><span class="n">point</span><span class="p">)</span>
    <span class="p">{</span>
        <span class="n">in</span> <span class="o">&gt;&gt;</span> <span class="n">point</span><span class="p">.</span><span class="n">m_x</span> <span class="o">&gt;&gt;</span> <span class="n">point</span><span class="p">.</span><span class="n">m_y</span> <span class="o">&gt;&gt;</span> <span class="n">point</span><span class="p">.</span><span class="n">m_z</span><span class="p">;</span>
        
        <span class="k">return</span> <span class="n">in</span><span class="p">;</span>
        <span class="c1">//chaining하기 위해 리턴값을 가지고온다.</span>
    <span class="p">}</span>
<span class="p">};</span>

<span class="kt">int</span> <span class="n">main</span><span class="p">()</span> <span class="p">{</span>
    <span class="c1">//이번에는 입출력 연산자를 오버로딩 하는방법에 대해 알아보자</span>
    
    <span class="c1">//좌표 출력예제 사용</span>
    <span class="c1">//x,y,z 좌표를 표시하기 위해 Point class를 만들었다.</span>
    <span class="c1">//좌표 출력을 하기위해 지금까지 배운방법으로는 print함수를 만들어 좌표를 찍었을것이다.</span>
    
    <span class="n">Point</span> <span class="n">p1</span><span class="p">(</span><span class="mf">0.0</span><span class="p">,</span> <span class="mf">0.1</span><span class="p">,</span> <span class="mf">0.2</span><span class="p">),</span> <span class="n">p2</span><span class="p">(</span><span class="mi">10</span><span class="p">,</span> <span class="mi">1</span><span class="p">,</span> <span class="mi">40</span><span class="p">);</span>
    
    <span class="n">p1</span><span class="p">.</span><span class="n">print</span><span class="p">();</span>
    
<span class="c1">//    &lt;&lt;오버로딩을 사용하면 이렇게 구현이 가능하다</span>
    <span class="n">cout</span> <span class="o">&lt;&lt;</span> <span class="n">p1</span> <span class="o">&lt;&lt;</span> <span class="s">" "</span> <span class="o">&lt;&lt;</span> <span class="n">p2</span> <span class="o">&lt;&lt;</span> <span class="n">endl</span><span class="p">;</span>
    
<span class="c1">//    ostream으로 만들면 파일출력도 같은 함수로 만들수있다.</span>
    
<span class="c1">//    ofstream of("out.txt");</span>
    <span class="c1">//파일명 입력</span>
    
<span class="c1">//    of &lt;&lt; p1 &lt;&lt; " " &lt;&lt; p2 &lt;&lt; endl;</span>
    <span class="c1">//파일 출력 내용 입력</span>
    
<span class="c1">//    of.close();</span>
    
    
    <span class="n">Point</span> <span class="n">p3</span><span class="p">,</span> <span class="n">p4</span><span class="p">;</span>
    
    <span class="n">cin</span> <span class="o">&gt;&gt;</span> <span class="n">p3</span> <span class="o">&gt;&gt;</span> <span class="n">p4</span><span class="p">;</span>
    
    <span class="n">cout</span> <span class="o">&lt;&lt;</span> <span class="n">p3</span> <span class="o">&lt;&lt;</span> <span class="s">" "</span> <span class="o">&lt;&lt;</span> <span class="n">p4</span> <span class="o">&lt;&lt;</span> <span class="n">endl</span><span class="p">;</span>
    
    
    <span class="k">return</span> <span class="mi">0</span><span class="p">;</span>
<span class="p">}</span>
</pre></table></code></div></div><h2 id="단항-연산자-오버로딩-하기"><span class="mr-2">단항 연산자 오버로딩 하기</span><a href="#단항-연산자-오버로딩-하기" class="anchor text-muted"><i class="fas fa-hashtag"></i></a></h2><div class="language-cpp highlighter-rouge"><div class="code-header"> <span data-label-text="Cpp"><i class="fas fa-code small"></i></span> <button aria-label="copy" data-title-succeed="Copied!"><i class="far fa-clipboard"></i></button></div><div class="highlight"><code><table class="rouge-table"><tbody><tr><td class="rouge-gutter gl"><pre class="lineno">1
2
3
4
5
6
7
8
9
10
11
12
13
14
15
16
17
18
19
20
21
22
23
24
25
26
27
28
29
30
31
32
33
34
35
36
37
38
39
40
41
42
43
44
45
46
47
48
49
50
51
52
53
54
55
56
57
58
59
60
</pre><td class="rouge-code"><pre><span class="c1">// 단항 연산자 오버로딩 하기</span>

<span class="cp">#include</span> <span class="cpf">&lt;iostream&gt;</span><span class="cp">
</span>
<span class="k">using</span> <span class="k">namespace</span> <span class="n">std</span><span class="p">;</span>

<span class="k">class</span> <span class="nc">Cents</span>
<span class="p">{</span>
<span class="nl">private:</span>
    <span class="kt">int</span> <span class="n">m_cents</span><span class="p">;</span>
    
<span class="nl">public:</span>
    <span class="n">Cents</span><span class="p">(</span><span class="kt">int</span> <span class="n">cents</span> <span class="o">=</span> <span class="mi">0</span><span class="p">)</span> <span class="p">{</span> <span class="n">m_cents</span> <span class="o">=</span> <span class="n">cents</span><span class="p">;</span> <span class="p">}</span>
    <span class="kt">int</span> <span class="n">getCents</span><span class="p">()</span> <span class="k">const</span> <span class="p">{</span> <span class="k">return</span> <span class="n">m_cents</span><span class="p">;</span> <span class="p">}</span>
    <span class="kt">int</span><span class="o">&amp;</span> <span class="n">getCents</span><span class="p">()</span> <span class="p">{</span> <span class="k">return</span> <span class="n">m_cents</span><span class="p">;</span> <span class="p">}</span>
    
    <span class="n">Cents</span> <span class="k">operator</span> <span class="o">-</span> <span class="p">()</span> <span class="k">const</span>
    <span class="p">{</span>
        <span class="k">return</span> <span class="n">Cents</span><span class="p">(</span><span class="o">-</span><span class="n">m_cents</span><span class="p">);</span>
    <span class="p">}</span>
    
    <span class="kt">bool</span> <span class="k">operator</span> <span class="o">!</span> <span class="p">()</span> <span class="k">const</span>
    <span class="p">{</span>
        <span class="c1">// !연산자 오버로딩은 조건을 생각하고 해야한다.</span>
        <span class="c1">//돈이 있으면 true 돈이없으면 false로 두고싶다</span>
        <span class="k">return</span> <span class="p">(</span><span class="n">m_cents</span> <span class="o">==</span> <span class="mi">0</span> <span class="p">)</span> <span class="o">?</span> <span class="nb">false</span> <span class="o">:</span> <span class="nb">true</span><span class="p">;</span>
    <span class="p">}</span>
    
    <span class="k">friend</span> <span class="n">ostream</span><span class="o">&amp;</span> <span class="k">operator</span> <span class="o">&lt;&lt;</span> <span class="p">(</span><span class="n">ostream</span> <span class="o">&amp;</span><span class="n">out</span><span class="p">,</span> <span class="k">const</span> <span class="n">Cents</span> <span class="o">&amp;</span><span class="n">cents</span><span class="p">)</span>
    <span class="p">{</span>
        <span class="n">cout</span> <span class="o">&lt;&lt;</span> <span class="n">cents</span><span class="p">.</span><span class="n">m_cents</span><span class="p">;</span>
        <span class="k">return</span> <span class="n">out</span><span class="p">;</span>
    <span class="p">}</span>
<span class="p">};</span>


<span class="kt">int</span> <span class="n">main</span><span class="p">()</span> <span class="p">{</span>
    <span class="c1">//이번시간엔 단항 연산자 오버로딩에 대해 알아보자</span>

    <span class="n">Cents</span> <span class="n">cents1</span><span class="p">(</span><span class="mi">6</span><span class="p">);</span>
    <span class="n">Cents</span> <span class="n">cents2</span><span class="p">(</span><span class="mi">0</span><span class="p">);</span>
    
    <span class="c1">//단항연산자</span>
    <span class="c1">//+3, -3, !a</span>
    
    <span class="n">cout</span> <span class="o">&lt;&lt;</span> <span class="n">cents1</span> <span class="o">&lt;&lt;</span> <span class="n">endl</span><span class="p">;</span>         <span class="c1">//6</span>
    <span class="n">cout</span> <span class="o">&lt;&lt;</span> <span class="o">-</span><span class="n">cents1</span> <span class="o">&lt;&lt;</span> <span class="n">endl</span><span class="p">;</span>        <span class="c1">//-6</span>
    <span class="n">cout</span> <span class="o">&lt;&lt;</span> <span class="o">-</span><span class="n">Cents</span><span class="p">(</span><span class="mi">10</span><span class="p">)</span> <span class="o">&lt;&lt;</span> <span class="n">endl</span><span class="p">;</span>     <span class="c1">//-10</span>
    <span class="n">cout</span> <span class="o">&lt;&lt;</span> <span class="o">-</span><span class="n">Cents</span><span class="p">(</span><span class="o">-</span><span class="mi">10</span><span class="p">)</span> <span class="o">&lt;&lt;</span> <span class="n">endl</span><span class="p">;</span>    <span class="c1">//10</span>
    
    
    <span class="k">auto</span> <span class="n">temp</span> <span class="o">=</span> <span class="o">!</span><span class="n">cents1</span><span class="p">;</span>
    
    <span class="k">auto</span> <span class="n">temp2</span> <span class="o">=</span> <span class="n">cents1</span><span class="p">;</span>
    
    <span class="n">cout</span> <span class="o">&lt;&lt;</span> <span class="o">!</span><span class="n">cents1</span> <span class="o">&lt;&lt;</span> <span class="s">" "</span> <span class="o">&lt;&lt;</span> <span class="o">!</span><span class="n">cents2</span> <span class="o">&lt;&lt;</span> <span class="n">endl</span><span class="p">;</span>
    <span class="c1">//1 0 출력 cents1은 돈이있으니 true인 1인 값 출력, cents2는 돈이없으니 false인 0값 출력</span>
    
    <span class="k">return</span> <span class="mi">0</span><span class="p">;</span>
<span class="p">}</span>
</pre></table></code></div></div><h2 id="비교-연산자-오버로딩-하기"><span class="mr-2">비교 연산자 오버로딩 하기</span><a href="#비교-연산자-오버로딩-하기" class="anchor text-muted"><i class="fas fa-hashtag"></i></a></h2><div class="language-cpp highlighter-rouge"><div class="code-header"> <span data-label-text="Cpp"><i class="fas fa-code small"></i></span> <button aria-label="copy" data-title-succeed="Copied!"><i class="far fa-clipboard"></i></button></div><div class="highlight"><code><table class="rouge-table"><tbody><tr><td class="rouge-gutter gl"><pre class="lineno">1
2
3
4
5
6
7
8
9
10
11
12
13
14
15
16
17
18
19
20
21
22
23
24
25
26
27
28
29
30
31
32
33
34
35
36
37
38
39
40
41
42
43
44
45
46
47
48
49
50
51
52
53
54
55
56
57
58
59
60
61
62
63
64
65
66
67
68
69
70
71
72
73
74
75
76
77
78
79
80
81
82
83
84
85
</pre><td class="rouge-code"><pre><span class="c1">// 비교 연산자 오버로딩 하기</span>
<span class="cp">#include</span> <span class="cpf">&lt;iostream&gt;</span><span class="cp">
#include</span> <span class="cpf">&lt;vector&gt;</span><span class="cp">
#include</span> <span class="cpf">&lt;algorithm&gt;</span><span class="cp">
#include</span> <span class="cpf">&lt;random&gt;</span><span class="cp">
</span>
<span class="k">using</span> <span class="k">namespace</span> <span class="n">std</span><span class="p">;</span>


<span class="k">class</span> <span class="nc">Cents</span>
<span class="p">{</span>
<span class="nl">private:</span>
    <span class="kt">int</span> <span class="n">m_cents</span><span class="p">;</span>
    
<span class="nl">public:</span>
    <span class="n">Cents</span><span class="p">(</span><span class="kt">int</span> <span class="n">cents</span> <span class="o">=</span> <span class="mi">0</span><span class="p">)</span> <span class="p">{</span> <span class="n">m_cents</span> <span class="o">=</span> <span class="n">cents</span><span class="p">;</span> <span class="p">}</span>
    <span class="kt">int</span> <span class="n">getCents</span><span class="p">()</span> <span class="k">const</span> <span class="p">{</span> <span class="k">return</span> <span class="n">m_cents</span><span class="p">;</span> <span class="p">}</span>
    <span class="kt">int</span><span class="o">&amp;</span> <span class="n">getCents</span><span class="p">()</span> <span class="p">{</span> <span class="k">return</span> <span class="n">m_cents</span><span class="p">;</span> <span class="p">}</span>
    
    <span class="k">friend</span> <span class="kt">bool</span> <span class="k">operator</span> <span class="o">==</span> <span class="p">(</span><span class="k">const</span> <span class="n">Cents</span> <span class="o">&amp;</span><span class="n">c1</span><span class="p">,</span> <span class="k">const</span> <span class="n">Cents</span> <span class="o">&amp;</span><span class="n">c2</span><span class="p">)</span>
    <span class="p">{</span>
        <span class="k">return</span> <span class="n">c1</span><span class="p">.</span><span class="n">m_cents</span> <span class="o">==</span> <span class="n">c2</span><span class="p">.</span><span class="n">m_cents</span><span class="p">;</span>
    <span class="p">}</span>
    
    <span class="c1">//이걸 만들면 sort에서 오류가 발생한다.</span>
    <span class="k">friend</span> <span class="kt">bool</span> <span class="k">operator</span> <span class="o">&gt;</span> <span class="p">(</span><span class="k">const</span> <span class="n">Cents</span> <span class="o">&amp;</span><span class="n">c1</span><span class="p">,</span> <span class="k">const</span> <span class="n">Cents</span> <span class="o">&amp;</span><span class="n">c2</span><span class="p">)</span>
    <span class="p">{</span>
        <span class="k">return</span> <span class="n">c1</span><span class="p">.</span><span class="n">m_cents</span> <span class="o">&gt;</span> <span class="n">c2</span><span class="p">.</span><span class="n">m_cents</span><span class="p">;</span>
    <span class="p">}</span>
    
    <span class="c1">//sort는 오른쪽이 작은지를 비교하는 연산자를 이용한다.</span>
    <span class="k">friend</span> <span class="kt">bool</span> <span class="k">operator</span> <span class="o">&lt;</span> <span class="p">(</span><span class="k">const</span> <span class="n">Cents</span> <span class="o">&amp;</span><span class="n">c1</span><span class="p">,</span> <span class="k">const</span> <span class="n">Cents</span> <span class="o">&amp;</span><span class="n">c2</span><span class="p">)</span>
    <span class="p">{</span>
        <span class="k">return</span> <span class="n">c1</span><span class="p">.</span><span class="n">m_cents</span> <span class="o">&lt;</span> <span class="n">c2</span><span class="p">.</span><span class="n">m_cents</span><span class="p">;</span>
    <span class="p">}</span>
    
    <span class="k">friend</span> <span class="n">ostream</span><span class="o">&amp;</span> <span class="k">operator</span> <span class="o">&lt;&lt;</span> <span class="p">(</span><span class="n">ostream</span> <span class="o">&amp;</span><span class="n">out</span><span class="p">,</span> <span class="k">const</span> <span class="n">Cents</span> <span class="o">&amp;</span><span class="n">cents</span><span class="p">)</span>
    <span class="p">{</span>
        <span class="n">cout</span> <span class="o">&lt;&lt;</span> <span class="n">cents</span><span class="p">.</span><span class="n">m_cents</span><span class="p">;</span>
        <span class="k">return</span> <span class="n">out</span><span class="p">;</span>
    <span class="p">}</span>
<span class="p">};</span>

<span class="kt">int</span> <span class="n">main</span><span class="p">()</span> <span class="p">{</span>
    <span class="c1">//이번엔 비교 연산자 오버로딩에 대해 알아보자</span>
    <span class="c1">//if문 안에, sort사용시 크기 비교 등등에서 사용한다.</span>
    
    <span class="n">Cents</span> <span class="n">cents1</span><span class="p">(</span><span class="mi">6</span><span class="p">);</span>
    <span class="n">Cents</span> <span class="n">cents2</span><span class="p">(</span><span class="mi">6</span><span class="p">);</span>
    
    <span class="n">cout</span> <span class="o">&lt;&lt;</span> <span class="n">boolalpha</span><span class="p">;</span>
    
    
    <span class="k">if</span><span class="p">(</span><span class="n">cents1</span> <span class="o">==</span> <span class="n">cents2</span><span class="p">)</span>
        <span class="n">cout</span> <span class="o">&lt;&lt;</span> <span class="s">"Equal"</span> <span class="o">&lt;&lt;</span> <span class="n">endl</span><span class="p">;</span>
    
    <span class="n">vector</span><span class="o">&lt;</span><span class="n">Cents</span><span class="o">&gt;</span> <span class="n">vec</span><span class="p">(</span><span class="mi">20</span><span class="p">);</span>
    <span class="k">for</span> <span class="p">(</span><span class="kt">unsigned</span> <span class="n">i</span> <span class="o">=</span> <span class="mi">0</span><span class="p">;</span> <span class="n">i</span> <span class="o">&lt;</span> <span class="mi">20</span><span class="p">;</span> <span class="o">++</span><span class="n">i</span><span class="p">)</span> <span class="p">{</span>
        <span class="n">vec</span><span class="p">[</span><span class="n">i</span><span class="p">].</span><span class="n">getCents</span><span class="p">()</span> <span class="o">=</span> <span class="n">i</span><span class="p">;</span>
    <span class="p">}</span>
    
    <span class="n">random_device</span> <span class="n">rd</span><span class="p">;</span>
    <span class="n">mt19937</span> <span class="n">g</span><span class="p">(</span><span class="n">rd</span><span class="p">());</span>
    <span class="n">shuffle</span><span class="p">(</span><span class="n">vec</span><span class="p">.</span><span class="n">begin</span><span class="p">(),</span> <span class="n">vec</span><span class="p">.</span><span class="n">end</span><span class="p">(),</span> <span class="n">g</span><span class="p">);</span>
    
    
    <span class="k">for</span> <span class="p">(</span><span class="k">auto</span> <span class="o">&amp;</span><span class="n">e</span> <span class="o">:</span> <span class="n">vec</span><span class="p">){</span>
        <span class="n">cout</span> <span class="o">&lt;&lt;</span> <span class="n">e</span> <span class="o">&lt;&lt;</span> <span class="s">" "</span><span class="p">;</span>
    <span class="p">}</span>
    <span class="n">cout</span> <span class="o">&lt;&lt;</span> <span class="n">endl</span><span class="p">;</span>
    
    <span class="c1">//그냥 실행하면 에러발생</span>
    <span class="c1">//에러 원인 Cents는 크기비교가 불가능하므로 sort를 진행할수가없다.</span>
    <span class="n">sort</span><span class="p">(</span><span class="n">begin</span><span class="p">(</span><span class="n">vec</span><span class="p">),</span> <span class="n">end</span><span class="p">(</span><span class="n">vec</span><span class="p">));</span>
    <span class="k">for</span> <span class="p">(</span><span class="k">auto</span> <span class="o">&amp;</span><span class="n">e</span> <span class="o">:</span> <span class="n">vec</span><span class="p">){</span>
        <span class="n">cout</span> <span class="o">&lt;&lt;</span> <span class="n">e</span> <span class="o">&lt;&lt;</span> <span class="s">" "</span><span class="p">;</span>
    <span class="p">}</span>
    <span class="n">cout</span> <span class="o">&lt;&lt;</span> <span class="n">endl</span><span class="p">;</span>
    
    
        
    
    
    <span class="k">return</span> <span class="mi">0</span><span class="p">;</span>
<span class="p">}</span>
</pre></table></code></div></div><h2 id="증감-연산자-오버로딩-하기"><span class="mr-2">증감 연산자 오버로딩 하기</span><a href="#증감-연산자-오버로딩-하기" class="anchor text-muted"><i class="fas fa-hashtag"></i></a></h2><div class="language-cpp highlighter-rouge"><div class="code-header"> <span data-label-text="Cpp"><i class="fas fa-code small"></i></span> <button aria-label="copy" data-title-succeed="Copied!"><i class="far fa-clipboard"></i></button></div><div class="highlight"><code><table class="rouge-table"><tbody><tr><td class="rouge-gutter gl"><pre class="lineno">1
2
3
4
5
6
7
8
9
10
11
12
13
14
15
16
17
18
19
20
21
22
23
24
25
26
27
28
29
30
31
32
33
34
35
36
37
38
39
40
41
42
43
44
45
46
47
48
49
50
51
52
53
54
55
56
57
58
59
60
61
62
63
64
65
66
67
68
69
70
71
72
73
74
75
76
77
78
79
80
81
82
83
84
85
</pre><td class="rouge-code"><pre><span class="c1">//증감 연산자 오버로딩하기</span>

<span class="cp">#include</span> <span class="cpf">&lt;iostream&gt;</span><span class="cp">
</span>
<span class="k">using</span> <span class="k">namespace</span> <span class="n">std</span><span class="p">;</span>

<span class="k">class</span> <span class="nc">Digit</span>
<span class="p">{</span>
<span class="nl">private:</span>
    <span class="kt">int</span> <span class="n">m_digit</span><span class="p">;</span>
    
<span class="nl">public:</span>
    <span class="n">Digit</span><span class="p">(</span><span class="kt">int</span> <span class="n">digit</span> <span class="o">=</span> <span class="mi">0</span><span class="p">)</span> <span class="p">{</span> <span class="n">m_digit</span> <span class="o">=</span> <span class="n">digit</span><span class="p">;</span> <span class="p">}</span>
    
    <span class="c1">//prefix</span>
    <span class="n">Digit</span> <span class="o">&amp;</span> <span class="k">operator</span> <span class="o">++</span> <span class="p">()</span>
    <span class="p">{</span>
        <span class="o">++</span><span class="n">m_digit</span><span class="p">;</span>
        <span class="k">return</span> <span class="o">*</span><span class="k">this</span><span class="p">;</span>
    <span class="p">}</span>
    
    <span class="c1">//postfix 파라미터로 더미값이 들어간다.</span>
    <span class="n">Digit</span> <span class="k">operator</span> <span class="o">++</span> <span class="p">(</span><span class="kt">int</span><span class="p">)</span>
    <span class="p">{</span>
        <span class="c1">//현재값 저장 변수</span>
        <span class="n">Digit</span> <span class="n">temp</span><span class="p">(</span><span class="n">m_digit</span><span class="p">);</span>
        
        <span class="o">++</span><span class="p">(</span><span class="o">*</span><span class="k">this</span><span class="p">);</span>
        
        <span class="k">return</span> <span class="n">temp</span><span class="p">;</span>
    <span class="p">}</span>
    
    <span class="n">Digit</span> <span class="o">&amp;</span> <span class="k">operator</span> <span class="o">--</span> <span class="p">()</span>
    <span class="p">{</span>
        <span class="o">--</span><span class="n">m_digit</span><span class="p">;</span>
        <span class="k">return</span> <span class="o">*</span><span class="k">this</span><span class="p">;</span>
    <span class="p">}</span>
    
    <span class="c1">//postfix 파라미터로 더미값이 들어간다.</span>
    <span class="n">Digit</span> <span class="k">operator</span> <span class="o">--</span> <span class="p">(</span><span class="kt">int</span><span class="p">)</span>
    <span class="p">{</span>
        <span class="c1">//현재값 저장 변수</span>
        <span class="n">Digit</span> <span class="n">temp</span><span class="p">(</span><span class="n">m_digit</span><span class="p">);</span>
        
        <span class="o">--</span><span class="p">(</span><span class="o">*</span><span class="k">this</span><span class="p">);</span>
        
        <span class="k">return</span> <span class="n">temp</span><span class="p">;</span>
    <span class="p">}</span>
    
    <span class="k">friend</span> <span class="n">ostream</span><span class="o">&amp;</span> <span class="k">operator</span> <span class="o">&lt;&lt;</span> <span class="p">(</span><span class="n">ostream</span> <span class="o">&amp;</span><span class="n">out</span><span class="p">,</span> <span class="k">const</span> <span class="n">Digit</span> <span class="o">&amp;</span><span class="n">digit</span><span class="p">)</span>
    <span class="p">{</span>
        <span class="n">cout</span> <span class="o">&lt;&lt;</span> <span class="n">digit</span><span class="p">.</span><span class="n">m_digit</span><span class="p">;</span>
        <span class="k">return</span> <span class="n">out</span><span class="p">;</span>
    <span class="p">}</span>
<span class="p">};</span>

<span class="kt">int</span> <span class="n">main</span><span class="p">()</span> <span class="p">{</span>
    <span class="c1">//이번엔 증감 연산자 오버로딩에 대해 알아보자</span>
    
    <span class="c1">//전위 먼저 계산후 출력</span>
    <span class="c1">//후위 출력후 계산</span>
    
    <span class="n">Digit</span> <span class="n">d</span><span class="p">(</span><span class="mi">5</span><span class="p">);</span>
    
    <span class="n">cout</span> <span class="o">&lt;&lt;</span> <span class="o">++</span><span class="n">d</span> <span class="o">&lt;&lt;</span> <span class="n">endl</span><span class="p">;</span>
    <span class="c1">//1증가한 6출력</span>
    <span class="n">cout</span> <span class="o">&lt;&lt;</span> <span class="n">d</span> <span class="o">&lt;&lt;</span> <span class="n">endl</span><span class="p">;</span>
    
    <span class="n">cout</span> <span class="o">&lt;&lt;</span> <span class="n">d</span><span class="o">++</span> <span class="o">&lt;&lt;</span> <span class="n">endl</span><span class="p">;</span>
    <span class="c1">//증가안함</span>
    <span class="n">cout</span> <span class="o">&lt;&lt;</span> <span class="n">d</span> <span class="o">&lt;&lt;</span> <span class="n">endl</span><span class="p">;</span>
    <span class="c1">//증가된 7 출력</span>
    
    
    <span class="n">cout</span> <span class="o">&lt;&lt;</span> <span class="o">--</span><span class="n">d</span> <span class="o">&lt;&lt;</span> <span class="n">endl</span><span class="p">;</span>
    <span class="c1">//1감소된 6출력</span>
    <span class="n">cout</span> <span class="o">&lt;&lt;</span> <span class="n">d</span> <span class="o">&lt;&lt;</span> <span class="n">endl</span><span class="p">;</span>
    
    <span class="n">cout</span> <span class="o">&lt;&lt;</span> <span class="n">d</span><span class="o">--</span> <span class="o">&lt;&lt;</span> <span class="n">endl</span><span class="p">;</span>
    <span class="c1">//감소안함</span>
    <span class="n">cout</span> <span class="o">&lt;&lt;</span> <span class="n">d</span> <span class="o">&lt;&lt;</span> <span class="n">endl</span><span class="p">;</span>
    <span class="c1">//5출력</span>
    
    <span class="k">return</span> <span class="mi">0</span><span class="p">;</span>
<span class="p">}</span>
</pre></table></code></div></div><h2 id="첨자-연산자-오버로딩-하기"><span class="mr-2">첨자 연산자 오버로딩 하기</span><a href="#첨자-연산자-오버로딩-하기" class="anchor text-muted"><i class="fas fa-hashtag"></i></a></h2><div class="language-cpp highlighter-rouge"><div class="code-header"> <span data-label-text="Cpp"><i class="fas fa-code small"></i></span> <button aria-label="copy" data-title-succeed="Copied!"><i class="far fa-clipboard"></i></button></div><div class="highlight"><code><table class="rouge-table"><tbody><tr><td class="rouge-gutter gl"><pre class="lineno">1
2
3
4
5
6
7
8
9
10
11
12
13
14
15
16
17
18
19
20
21
22
23
24
25
26
27
28
29
30
31
32
33
34
35
36
37
38
39
40
41
42
43
44
45
46
47
48
49
50
51
52
53
54
55
56
57
58
59
60
61
62
63
64
65
66
67
68
69
70
71
72
73
74
75
76
77
78
79
80
81
82
83
</pre><td class="rouge-code"><pre><span class="c1">// 첨자 연산자 오버로딩 하기</span>

<span class="cp">#include</span> <span class="cpf">&lt;iostream&gt;</span><span class="cp">
#include</span> <span class="cpf">&lt;cassert&gt;</span><span class="cp">
</span><span class="k">using</span> <span class="k">namespace</span> <span class="n">std</span><span class="p">;</span>

<span class="k">class</span> <span class="nc">IntList</span>
<span class="p">{</span>
<span class="nl">private:</span>
    <span class="kt">int</span> <span class="n">m_list</span><span class="p">[</span><span class="mi">10</span><span class="p">]</span> <span class="o">=</span> <span class="p">{</span><span class="mi">1</span><span class="p">,</span><span class="mi">2</span><span class="p">,</span><span class="mi">3</span><span class="p">,</span><span class="mi">4</span><span class="p">,</span><span class="mi">5</span><span class="p">,</span><span class="mi">6</span><span class="p">,</span><span class="mi">7</span><span class="p">,</span><span class="mi">8</span><span class="p">,</span><span class="mi">9</span><span class="p">,</span><span class="mi">10</span><span class="p">};</span>
    
<span class="nl">public:</span>
    
    
    <span class="kt">int</span> <span class="o">&amp;</span> <span class="k">operator</span> <span class="p">[]</span> <span class="p">(</span><span class="k">const</span> <span class="kt">int</span> <span class="n">idx</span><span class="p">)</span>
    <span class="p">{</span>
        <span class="c1">//assert로 방어코드를 사용하는것이 좋다.</span>
        <span class="c1">//많이 사용하기위해 만드는것이르모 방어적인 코드를 짜는것이 좋다.</span>
        <span class="n">assert</span><span class="p">(</span><span class="n">idx</span> <span class="o">&gt;=</span> <span class="mi">0</span><span class="p">);</span>
        <span class="n">assert</span><span class="p">(</span><span class="n">idx</span> <span class="o">&lt;</span> <span class="mi">0</span><span class="p">);</span>
        <span class="k">return</span> <span class="n">m_list</span><span class="p">[</span><span class="n">idx</span><span class="p">];</span>
    <span class="p">}</span>
    
    <span class="k">const</span> <span class="kt">int</span> <span class="o">&amp;</span> <span class="k">operator</span> <span class="p">[]</span> <span class="p">(</span><span class="k">const</span> <span class="kt">int</span> <span class="n">idx</span><span class="p">)</span> <span class="k">const</span>
    <span class="p">{</span>
        <span class="k">return</span> <span class="n">m_list</span><span class="p">[</span><span class="n">idx</span><span class="p">];</span>
    <span class="p">}</span>
    
    <span class="kt">void</span> <span class="n">setItem</span><span class="p">(</span><span class="kt">int</span> <span class="n">idx</span><span class="p">,</span> <span class="kt">int</span> <span class="n">val</span><span class="p">)</span>
    <span class="p">{</span>
        <span class="n">m_list</span><span class="p">[</span><span class="n">idx</span><span class="p">]</span> <span class="o">=</span> <span class="n">val</span><span class="p">;</span>
    <span class="p">}</span>
    
    <span class="kt">int</span> <span class="n">getItem</span><span class="p">(</span><span class="kt">int</span> <span class="n">idx</span><span class="p">)</span>
    <span class="p">{</span>
        <span class="k">return</span> <span class="n">m_list</span><span class="p">[</span><span class="n">idx</span><span class="p">];</span>
    <span class="p">}</span>
    <span class="kt">int</span> <span class="o">*</span> <span class="n">getList</span><span class="p">()</span>
    <span class="p">{</span>
        <span class="k">return</span> <span class="n">m_list</span><span class="p">;</span>
    <span class="p">}</span>
<span class="p">};</span>

<span class="kt">int</span> <span class="n">main</span><span class="p">()</span> <span class="p">{</span>
    <span class="c1">//이번엔 첨자 연산자 오버로딩에 대해 알아보자</span>
    <span class="c1">//[] subscrpit operator</span>
    
    <span class="c1">//일반적인 배열 클래스 출력 방법</span>
    <span class="n">IntList</span> <span class="n">my_list</span><span class="p">;</span>
    <span class="n">my_list</span><span class="p">.</span><span class="n">setItem</span><span class="p">(</span><span class="mi">3</span><span class="p">,</span> <span class="mi">1</span><span class="p">);</span>
    <span class="n">cout</span> <span class="o">&lt;&lt;</span> <span class="n">my_list</span><span class="p">.</span><span class="n">getItem</span><span class="p">(</span><span class="mi">3</span><span class="p">)</span> <span class="o">&lt;&lt;</span> <span class="n">endl</span><span class="p">;</span>
    
    <span class="n">my_list</span><span class="p">.</span><span class="n">getList</span><span class="p">()[</span><span class="mi">3</span><span class="p">]</span> <span class="o">=</span> <span class="mi">10</span><span class="p">;</span>
    <span class="n">cout</span> <span class="o">&lt;&lt;</span> <span class="n">my_list</span><span class="p">.</span><span class="n">getList</span><span class="p">()[</span><span class="mi">3</span><span class="p">]</span> <span class="o">&lt;&lt;</span> <span class="n">endl</span><span class="p">;</span>
    <span class="c1">//set하랴 get하랴 힘들다 ()[]가 있는것도 불편하고 vector,array처럼 사용하기 위해 []연산자를 오버로딩 한다.</span>
    
    <span class="n">IntList</span> <span class="n">my_list2</span><span class="p">;</span>
    <span class="n">my_list2</span><span class="p">[</span><span class="mi">3</span><span class="p">]</span> <span class="o">=</span> <span class="mi">10</span><span class="p">;</span>
    <span class="n">cout</span> <span class="o">&lt;&lt;</span> <span class="n">my_list2</span><span class="p">[</span><span class="mi">3</span><span class="p">]</span> <span class="o">&lt;&lt;</span> <span class="n">endl</span><span class="p">;</span>
    
    
    <span class="c1">//const 자료형은 cosnt 오버로딩을 하여 처리 가능하다.</span>
    <span class="k">const</span> <span class="n">IntList</span> <span class="n">my_list3</span><span class="p">;</span>
    <span class="n">cout</span> <span class="o">&lt;&lt;</span> <span class="n">my_list3</span><span class="p">[</span><span class="mi">1</span><span class="p">]</span> <span class="o">&lt;&lt;</span> <span class="n">endl</span><span class="p">;</span>
    
    
    
    <span class="c1">//주의사항</span>
    <span class="c1">//포인터 사용시</span>
    
    <span class="n">IntList</span> <span class="o">*</span><span class="n">list</span> <span class="o">=</span> <span class="k">new</span> <span class="n">IntList</span><span class="p">;</span>
    
    <span class="n">list</span><span class="p">[</span><span class="mi">3</span><span class="p">]</span> <span class="o">=</span> <span class="mi">10</span><span class="p">;</span> <span class="c1">//오류 발생</span>
    
    <span class="p">(</span><span class="o">*</span><span class="n">list</span><span class="p">)[</span><span class="mi">3</span><span class="p">]</span> <span class="o">=</span> <span class="mi">10</span><span class="p">;</span> <span class="c1">//작동된다.</span>
    
    
    
    
    
    
    <span class="k">return</span> <span class="mi">0</span><span class="p">;</span>
<span class="p">}</span>
</pre></table></code></div></div><h2 id="괄호-연산자-오버로딩과-함수-객체"><span class="mr-2">괄호 연산자 오버로딩과 함수 객체</span><a href="#괄호-연산자-오버로딩과-함수-객체" class="anchor text-muted"><i class="fas fa-hashtag"></i></a></h2><div class="language-cpp highlighter-rouge"><div class="code-header"> <span data-label-text="Cpp"><i class="fas fa-code small"></i></span> <button aria-label="copy" data-title-succeed="Copied!"><i class="far fa-clipboard"></i></button></div><div class="highlight"><code><table class="rouge-table"><tbody><tr><td class="rouge-gutter gl"><pre class="lineno">1
2
3
4
5
6
7
8
9
10
11
12
13
14
15
16
17
18
19
20
21
22
23
24
25
26
27
28
29
30
31
32
33
</pre><td class="rouge-code"><pre><span class="c1">// 괄호 연산자 오버로딩과 함수객체</span>

<span class="cp">#include</span> <span class="cpf">&lt;iostream&gt;</span><span class="cp">
</span>
<span class="k">using</span> <span class="k">namespace</span> <span class="n">std</span><span class="p">;</span>

<span class="k">class</span> <span class="nc">Accumulator</span>
<span class="p">{</span>
<span class="nl">private:</span>
    <span class="kt">int</span> <span class="n">m_counter</span> <span class="o">=</span> <span class="mi">0</span><span class="p">;</span>
    
<span class="nl">public:</span>
    <span class="kt">int</span> <span class="k">operator</span> <span class="p">()</span> <span class="p">(</span><span class="kt">int</span> <span class="n">i</span><span class="p">)</span>
    <span class="p">{</span>
        <span class="k">return</span> <span class="p">(</span><span class="n">m_counter</span> <span class="o">+=</span> <span class="n">i</span><span class="p">);</span>
    <span class="p">}</span>
<span class="p">};</span>

<span class="kt">int</span> <span class="n">main</span><span class="p">()</span> <span class="p">{</span>
    <span class="c1">//이번에는 괄호 연산자 오버로딩을 알아보자</span>
    <span class="c1">//괄호 연산자는 함수에서 사용하므로 괄호 연산자를 오버로딩을 하면 객체가 함수인것처럼 구현을할 수 있다.</span>
    <span class="c1">//첨자와 오버로딩하고 거의 비슷하다.</span>
    
    
    <span class="n">Accumulator</span> <span class="n">acc</span><span class="p">;</span>
    <span class="n">cout</span> <span class="o">&lt;&lt;</span> <span class="n">acc</span><span class="p">(</span><span class="mi">10</span><span class="p">)</span> <span class="o">&lt;&lt;</span> <span class="n">endl</span><span class="p">;</span>
    <span class="c1">//0에서 10을 더함</span>
    <span class="n">cout</span> <span class="o">&lt;&lt;</span> <span class="n">acc</span><span class="p">(</span><span class="mi">20</span><span class="p">)</span> <span class="o">&lt;&lt;</span> <span class="n">endl</span><span class="p">;</span>
    <span class="c1">//10인 상태에서 20을 더함</span>
    
    <span class="k">return</span> <span class="mi">0</span><span class="p">;</span>
<span class="p">}</span>

</pre></table></code></div></div><h2 id="형변환을-오버로딩-하기"><span class="mr-2">형변환을 오버로딩 하기</span><a href="#형변환을-오버로딩-하기" class="anchor text-muted"><i class="fas fa-hashtag"></i></a></h2><div class="language-cpp highlighter-rouge"><div class="code-header"> <span data-label-text="Cpp"><i class="fas fa-code small"></i></span> <button aria-label="copy" data-title-succeed="Copied!"><i class="far fa-clipboard"></i></button></div><div class="highlight"><code><table class="rouge-table"><tbody><tr><td class="rouge-gutter gl"><pre class="lineno">1
2
3
4
5
6
7
8
9
10
11
12
13
14
15
16
17
18
19
20
21
22
23
24
25
26
27
28
29
30
31
32
33
34
35
36
37
38
39
40
41
42
43
44
45
46
47
48
49
50
51
52
53
54
55
56
57
58
59
60
61
62
63
64
65
66
67
</pre><td class="rouge-code"><pre><span class="c1">//형변환을 오버로딩 하기</span>

<span class="cp">#include</span> <span class="cpf">&lt;iostream&gt;</span><span class="cp">
</span>
<span class="k">using</span> <span class="k">namespace</span> <span class="n">std</span><span class="p">;</span>

<span class="k">class</span> <span class="nc">Cents</span>
<span class="p">{</span>
<span class="nl">private:</span>
    <span class="kt">int</span> <span class="n">m_cents</span><span class="p">;</span>
    
<span class="nl">public:</span>
    <span class="n">Cents</span><span class="p">(</span><span class="kt">int</span> <span class="n">cents</span> <span class="o">=</span> <span class="mi">0</span><span class="p">)</span> <span class="p">{</span> <span class="n">m_cents</span> <span class="o">=</span> <span class="n">cents</span><span class="p">;</span> <span class="p">}</span>
    <span class="kt">int</span> <span class="n">getCents</span><span class="p">()</span> <span class="k">const</span> <span class="p">{</span> <span class="k">return</span> <span class="n">m_cents</span><span class="p">;</span> <span class="p">}</span>
    <span class="kt">void</span> <span class="n">setCents</span><span class="p">(</span><span class="kt">int</span> <span class="n">cents</span><span class="p">)</span> <span class="p">{</span> <span class="n">m_cents</span> <span class="o">=</span> <span class="n">cents</span><span class="p">;</span> <span class="p">}</span>
    
    <span class="k">operator</span> <span class="kt">int</span><span class="p">()</span>
    <span class="p">{</span>
        <span class="n">cout</span> <span class="o">&lt;&lt;</span> <span class="s">"casting"</span> <span class="o">&lt;&lt;</span> <span class="n">endl</span><span class="p">;</span>
        <span class="k">return</span> <span class="n">m_cents</span><span class="p">;</span>
    <span class="p">}</span>

<span class="p">};</span>

<span class="k">class</span> <span class="nc">Doller</span>
<span class="p">{</span>
<span class="nl">private:</span>
    <span class="kt">int</span> <span class="n">m_doller</span> <span class="o">=</span> <span class="mi">0</span><span class="p">;</span>
<span class="nl">public:</span>
    <span class="n">Doller</span><span class="p">(</span><span class="k">const</span> <span class="kt">int</span><span class="o">&amp;</span> <span class="n">input</span><span class="p">)</span> <span class="o">:</span> <span class="n">m_doller</span><span class="p">(</span><span class="n">input</span><span class="p">)</span> <span class="p">{}</span>
    
    <span class="k">operator</span> <span class="n">Cents</span><span class="p">()</span>
    <span class="p">{</span>
        <span class="c1">//1Doller = 100Cents</span>
        <span class="k">return</span> <span class="n">Cents</span><span class="p">(</span><span class="n">m_doller</span> <span class="o">*</span> <span class="mi">100</span><span class="p">);</span>
    <span class="p">}</span>
<span class="p">};</span>

<span class="kt">void</span> <span class="n">printInt</span><span class="p">(</span><span class="k">const</span> <span class="kt">int</span> <span class="o">&amp;</span><span class="n">val</span><span class="p">)</span>
<span class="p">{</span>
    <span class="n">cout</span> <span class="o">&lt;&lt;</span> <span class="n">val</span> <span class="o">&lt;&lt;</span> <span class="n">endl</span><span class="p">;</span>
<span class="p">}</span>

<span class="kt">int</span> <span class="n">main</span><span class="p">()</span> <span class="p">{</span>
    <span class="c1">//이번에는 형변환 오버로딩을 알아보자</span>

    <span class="n">Cents</span> <span class="n">cents</span><span class="p">(</span><span class="mi">7</span><span class="p">);</span>
    
    <span class="n">printInt</span><span class="p">(</span><span class="n">cents</span><span class="p">);</span>
    <span class="c1">//일반적으로 Cents는 int가 아니므로 자료형 오류가 발생한다.</span>
    
    <span class="c1">//이것과 같은 방식이다.</span>
    <span class="kt">int</span> <span class="n">val</span> <span class="o">=</span> <span class="p">(</span><span class="kt">int</span><span class="p">)</span><span class="n">cents</span><span class="p">;</span>
    <span class="n">cout</span> <span class="o">&lt;&lt;</span> <span class="n">val</span> <span class="o">&lt;&lt;</span> <span class="n">endl</span><span class="p">;</span>
    
    
    <span class="c1">//자료형 끼리도 형변환 하는것을 만들수있다.</span>
    <span class="n">Doller</span> <span class="n">dol</span><span class="p">(</span><span class="mi">2</span><span class="p">);</span>
    
    <span class="n">Cents</span> <span class="n">cents2</span> <span class="o">=</span> <span class="n">dol</span><span class="p">;</span>
    
    <span class="n">printInt</span><span class="p">(</span><span class="n">cents2</span><span class="p">);</span>
    
    
    <span class="k">return</span> <span class="mi">0</span><span class="p">;</span>
<span class="p">}</span>

</pre></table></code></div></div><h2 id="복사-생성자-복사-초기화-반환값-최적화"><span class="mr-2">복사 생성자, 복사 초기화 반환값 최적화</span><a href="#복사-생성자-복사-초기화-반환값-최적화" class="anchor text-muted"><i class="fas fa-hashtag"></i></a></h2><div class="language-cpp highlighter-rouge"><div class="code-header"> <span data-label-text="Cpp"><i class="fas fa-code small"></i></span> <button aria-label="copy" data-title-succeed="Copied!"><i class="far fa-clipboard"></i></button></div><div class="highlight"><code><table class="rouge-table"><tbody><tr><td class="rouge-gutter gl"><pre class="lineno">1
2
3
4
5
6
7
8
9
10
11
12
13
14
15
16
17
18
19
20
21
22
23
24
25
26
27
28
29
30
31
32
33
34
35
36
37
38
39
40
41
42
43
44
45
46
47
48
49
50
51
52
53
54
55
56
57
58
59
60
61
62
63
64
65
66
67
68
69
70
71
</pre><td class="rouge-code"><pre><span class="c1">//복사 생성자, 복사 초기화 반환값 최적화</span>
<span class="c1">// return value Optimization RVO</span>
<span class="cp">#include</span> <span class="cpf">&lt;iostream&gt;</span><span class="cp">
#include</span> <span class="cpf">&lt;cassert&gt;</span><span class="cp">
</span>
<span class="k">using</span> <span class="k">namespace</span> <span class="n">std</span><span class="p">;</span>


<span class="c1">//분수 클래스</span>
<span class="k">class</span> <span class="nc">Fraction</span>
<span class="p">{</span>
<span class="nl">private:</span>
    <span class="kt">int</span> <span class="n">m_numerator</span><span class="p">;</span>
    <span class="kt">int</span> <span class="n">m_denominator</span><span class="p">;</span>
    
<span class="nl">public:</span>
    <span class="n">Fraction</span><span class="p">(</span><span class="kt">int</span> <span class="n">num</span> <span class="o">=</span> <span class="mi">0</span><span class="p">,</span> <span class="kt">int</span> <span class="n">den</span> <span class="o">=</span> <span class="mi">1</span><span class="p">)</span> <span class="o">:</span> <span class="n">m_numerator</span><span class="p">(</span><span class="n">num</span><span class="p">),</span> <span class="n">m_denominator</span><span class="p">(</span><span class="n">den</span><span class="p">)</span>
    <span class="p">{</span>
        <span class="c1">//분모가 0이 아닐때 작동 방지</span>
        <span class="n">assert</span><span class="p">(</span><span class="n">den</span> <span class="o">!=</span> <span class="mi">0</span><span class="p">);</span>
    <span class="p">}</span>
    <span class="c1">//복사 생성자 copy constructor</span>
    <span class="c1">//자기 자신과 똑같은 타입이 들어오는 생성자</span>
    <span class="n">Fraction</span><span class="p">(</span><span class="k">const</span> <span class="n">Fraction</span> <span class="o">&amp;</span><span class="n">fraction</span><span class="p">)</span> <span class="o">:</span> <span class="n">m_numerator</span><span class="p">(</span><span class="n">fraction</span><span class="p">.</span><span class="n">m_numerator</span><span class="p">),</span> <span class="n">m_denominator</span><span class="p">(</span><span class="n">fraction</span><span class="p">.</span><span class="n">m_denominator</span><span class="p">)</span>
    <span class="p">{</span>
        <span class="n">cout</span> <span class="o">&lt;&lt;</span> <span class="s">"Copy constructor called"</span> <span class="o">&lt;&lt;</span> <span class="n">endl</span><span class="p">;</span>
    <span class="p">}</span>
    
    <span class="k">friend</span> <span class="n">ostream</span> <span class="o">&amp;</span> <span class="k">operator</span> <span class="o">&lt;&lt;</span> <span class="p">(</span><span class="n">ostream</span> <span class="o">&amp;</span><span class="n">out</span><span class="p">,</span> <span class="k">const</span> <span class="n">Fraction</span> <span class="o">&amp;</span><span class="n">f</span><span class="p">)</span>
    <span class="p">{</span>
        <span class="n">cout</span> <span class="o">&lt;&lt;</span> <span class="n">f</span><span class="p">.</span><span class="n">m_numerator</span> <span class="o">&lt;&lt;</span> <span class="s">" / "</span> <span class="o">&lt;&lt;</span> <span class="n">f</span><span class="p">.</span><span class="n">m_denominator</span> <span class="o">&lt;&lt;</span> <span class="n">endl</span><span class="p">;</span>
        
        <span class="k">return</span>  <span class="n">out</span><span class="p">;</span>
    <span class="p">}</span>
    
<span class="p">};</span>

<span class="n">Fraction</span> <span class="n">doSomrting</span><span class="p">()</span>
<span class="p">{</span>
    <span class="n">Fraction</span> <span class="n">temp</span><span class="p">(</span><span class="mi">1</span><span class="p">,</span><span class="mi">2</span><span class="p">);</span>
    <span class="n">cout</span> <span class="o">&lt;&lt;</span> <span class="o">&amp;</span><span class="n">temp</span> <span class="o">&lt;&lt;</span> <span class="n">endl</span><span class="p">;</span>
    <span class="k">return</span>  <span class="n">temp</span><span class="p">;</span>
<span class="p">}</span>
<span class="kt">int</span> <span class="n">main</span><span class="p">()</span> <span class="p">{</span>
    <span class="c1">//이번에는 복사 생성자, 복사 초기화 RVO에 대해 알아보자</span>
    
    <span class="n">Fraction</span> <span class="n">frac</span><span class="p">(</span><span class="mi">3</span><span class="p">,</span> <span class="mi">5</span><span class="p">);</span>
    
    
    <span class="n">Fraction</span> <span class="n">fr_copy</span> <span class="o">=</span> <span class="n">frac</span><span class="p">;</span>
    
    <span class="n">cout</span> <span class="o">&lt;&lt;</span> <span class="n">frac</span> <span class="o">&lt;&lt;</span> <span class="s">" "</span> <span class="o">&lt;&lt;</span> <span class="n">fr_copy</span> <span class="o">&lt;&lt;</span> <span class="n">endl</span><span class="p">;</span>
    
    <span class="c1">//경우에 따라 복사하는것을 막아 버리고싶을때가 있다.</span>
    <span class="c1">//이럴때는 복사하는곳을 private에 옮기면 된다. 보안성 문제를 유의할때 사용한다.</span>
    
    <span class="c1">//익명객체로 만들어서 넣는경우 복사생성자가 호출되지 않는다.</span>
    <span class="n">Fraction</span> <span class="n">fr_copy2</span><span class="p">(</span><span class="n">Fraction</span><span class="p">(</span><span class="mi">3</span><span class="p">,</span><span class="mi">10</span><span class="p">));</span>
    <span class="c1">//Fraction fr_copy2(3,10);처럼 작동한다.</span>
    
    <span class="n">Fraction</span> <span class="n">result</span> <span class="o">=</span> <span class="n">doSomrting</span><span class="p">();</span>
    
    <span class="n">cout</span> <span class="o">&lt;&lt;</span> <span class="o">&amp;</span><span class="n">result</span> <span class="o">&lt;&lt;</span> <span class="n">endl</span><span class="p">;</span>
    <span class="n">cout</span> <span class="o">&lt;&lt;</span> <span class="n">result</span> <span class="o">&lt;&lt;</span> <span class="n">endl</span><span class="p">;</span>
    <span class="c1">//디버그모드 복사생성자 출력</span>
    <span class="c1">//릴리즈모드 복사생성자 미출력</span>
    <span class="c1">//반환값 최적화라고 한다. RVO</span>
    
    <span class="k">return</span> <span class="mi">0</span><span class="p">;</span>
<span class="p">}</span>

</pre></table></code></div></div><h2 id="변환-생성자-explicit-delete"><span class="mr-2">변환 생성자, explicit, delete</span><a href="#변환-생성자-explicit-delete" class="anchor text-muted"><i class="fas fa-hashtag"></i></a></h2><div class="language-cpp highlighter-rouge"><div class="code-header"> <span data-label-text="Cpp"><i class="fas fa-code small"></i></span> <button aria-label="copy" data-title-succeed="Copied!"><i class="far fa-clipboard"></i></button></div><div class="highlight"><code><table class="rouge-table"><tbody><tr><td class="rouge-gutter gl"><pre class="lineno">1
2
3
4
5
6
7
8
9
10
11
12
13
14
15
16
17
18
19
20
21
22
23
24
25
26
27
28
29
30
31
32
33
34
35
36
37
38
39
40
41
42
43
44
45
46
47
48
49
50
51
52
53
54
55
56
57
58
59
60
61
62
63
64
65
</pre><td class="rouge-code"><pre><span class="c1">// 변환 생성자, explicit, delete</span>
<span class="c1">// converting constructor</span>
<span class="cp">#include</span> <span class="cpf">&lt;iostream&gt;</span><span class="cp">
</span>
<span class="k">using</span> <span class="k">namespace</span> <span class="n">std</span><span class="p">;</span>

<span class="c1">//분수 클래스</span>
<span class="k">class</span> <span class="nc">Fraction</span>
<span class="p">{</span>
<span class="nl">private:</span>
    <span class="kt">int</span> <span class="n">m_numerator</span><span class="p">;</span>
    <span class="kt">int</span> <span class="n">m_denominator</span><span class="p">;</span>
    
<span class="nl">public:</span>
    <span class="n">Fraction</span><span class="p">(</span><span class="kt">char</span><span class="p">)</span> <span class="o">=</span> <span class="k">delete</span><span class="p">;</span>
    
    <span class="n">Fraction</span><span class="p">(</span><span class="kt">int</span> <span class="n">num</span> <span class="o">=</span> <span class="mi">0</span><span class="p">,</span> <span class="kt">int</span> <span class="n">den</span> <span class="o">=</span> <span class="mi">1</span><span class="p">)</span> <span class="o">:</span> <span class="n">m_numerator</span><span class="p">(</span><span class="n">num</span><span class="p">),</span> <span class="n">m_denominator</span><span class="p">(</span><span class="n">den</span><span class="p">)</span>
    <span class="p">{</span>
        <span class="n">assert</span><span class="p">(</span><span class="n">den</span> <span class="o">!=</span> <span class="mi">0</span><span class="p">);</span>
    <span class="p">}</span>

    <span class="n">Fraction</span><span class="p">(</span><span class="k">const</span> <span class="n">Fraction</span> <span class="o">&amp;</span><span class="n">fraction</span><span class="p">)</span> <span class="o">:</span> <span class="n">m_numerator</span><span class="p">(</span><span class="n">fraction</span><span class="p">.</span><span class="n">m_numerator</span><span class="p">),</span> <span class="n">m_denominator</span><span class="p">(</span><span class="n">fraction</span><span class="p">.</span><span class="n">m_denominator</span><span class="p">)</span>
    <span class="p">{</span>
        <span class="n">cout</span> <span class="o">&lt;&lt;</span> <span class="s">"Copy constructor called"</span> <span class="o">&lt;&lt;</span> <span class="n">endl</span><span class="p">;</span>
    <span class="p">}</span>
    
    <span class="k">friend</span> <span class="n">ostream</span> <span class="o">&amp;</span> <span class="k">operator</span> <span class="o">&lt;&lt;</span> <span class="p">(</span><span class="n">ostream</span> <span class="o">&amp;</span><span class="n">out</span><span class="p">,</span> <span class="k">const</span> <span class="n">Fraction</span> <span class="o">&amp;</span><span class="n">f</span><span class="p">)</span>
    <span class="p">{</span>
        <span class="n">cout</span> <span class="o">&lt;&lt;</span> <span class="n">f</span><span class="p">.</span><span class="n">m_numerator</span> <span class="o">&lt;&lt;</span> <span class="s">" / "</span> <span class="o">&lt;&lt;</span> <span class="n">f</span><span class="p">.</span><span class="n">m_denominator</span> <span class="o">&lt;&lt;</span> <span class="n">endl</span><span class="p">;</span>
        <span class="k">return</span>  <span class="n">out</span><span class="p">;</span>
    <span class="p">}</span>
    
<span class="p">};</span>

<span class="kt">void</span> <span class="n">doSomrting</span><span class="p">(</span><span class="n">Fraction</span> <span class="n">frac</span><span class="p">)</span>
<span class="p">{</span>
    <span class="n">cout</span> <span class="o">&lt;&lt;</span> <span class="n">frac</span> <span class="o">&lt;&lt;</span> <span class="n">endl</span><span class="p">;</span>
<span class="p">}</span>

<span class="kt">int</span> <span class="n">main</span><span class="p">()</span> <span class="p">{</span>
    <span class="c1">//이번에는 변환 생성자에 대해 알아보자 explicit, delete 키워드도 알아보자</span>
    
    <span class="n">Fraction</span> <span class="n">frac</span><span class="p">(</span><span class="mi">7</span><span class="p">);</span>
    
    
    <span class="n">doSomrting</span><span class="p">(</span><span class="n">Fraction</span><span class="p">(</span><span class="mi">7</span><span class="p">));</span>
    
    
    <span class="c1">//그냥 숫자만 넣어도 정상적으로 작동한다.</span>
<span class="c1">//    doSomrting(7);</span>
    <span class="c1">//converting constructor</span>
    
    <span class="c1">//explicit 키워드를  생성자 앞에 넣어주면 오류를 발생시킨다.</span>
    <span class="c1">//생성자 파라미터를 똑바로 넣어라 라고</span>
    
    <span class="c1">//delete를 사용하는 방법</span>
    <span class="c1">//변환 생성자의 자료형 종류를 제한할수있다.</span>
    <span class="c1">//Fraction(char) = delete;</span>
    <span class="c1">//char형은 넣지말아라 라고 하는것이다.</span>
    
    <span class="n">Fraction</span> <span class="n">frac23</span><span class="p">(</span><span class="sc">'a'</span><span class="p">);</span>
    <span class="c1">//char형을 막아 놧으므로 오류발생</span>
    <span class="n">Fraction</span> <span class="n">frac22</span><span class="p">(</span><span class="mi">1</span><span class="p">);</span>
    <span class="k">return</span> <span class="mi">0</span><span class="p">;</span>
<span class="p">}</span>
</pre></table></code></div></div><h2 id="대입-연산자-오버로딩-깊은-복사-얕은-복사"><span class="mr-2">대입 연산자 오버로딩, 깊은 복사, 얕은 복사</span><a href="#대입-연산자-오버로딩-깊은-복사-얕은-복사" class="anchor text-muted"><i class="fas fa-hashtag"></i></a></h2><div class="language-cpp highlighter-rouge"><div class="code-header"> <span data-label-text="Cpp"><i class="fas fa-code small"></i></span> <button aria-label="copy" data-title-succeed="Copied!"><i class="far fa-clipboard"></i></button></div><div class="highlight"><code><table class="rouge-table"><tbody><tr><td class="rouge-gutter gl"><pre class="lineno">1
2
3
4
5
6
7
8
9
10
11
12
13
14
15
16
17
18
19
20
21
22
23
24
25
26
27
28
29
30
31
32
33
34
35
36
37
38
39
40
41
42
43
44
45
46
47
48
49
50
51
52
53
54
55
56
57
58
59
60
61
62
63
64
65
66
67
68
69
70
71
72
73
74
75
76
77
78
79
80
81
82
83
84
85
86
87
88
89
90
91
92
93
94
95
96
97
98
99
100
101
102
103
104
105
106
107
108
109
110
111
112
113
114
115
116
117
118
119
120
121
122
123
124
125
126
127
128
129
130
131
132
133
134
135
136
137
138
139
140
141
142
143
144
145
146
147
148
149
150
151
152
153
154
155
156
157
158
159
160
161
162
</pre><td class="rouge-code"><pre><span class="c1">// 대입 연산자 오버로딩, 깊은복사, 얕은 복사</span>
<span class="c1">// Deep copy Shallow copy</span>
<span class="cp">#include</span> <span class="cpf">&lt;iostream&gt;</span><span class="cp">
#include</span> <span class="cpf">&lt;cassert&gt;</span><span class="cp">
</span>
<span class="k">using</span> <span class="k">namespace</span> <span class="n">std</span><span class="p">;</span>

<span class="k">class</span> <span class="nc">MyString</span>
<span class="p">{</span>
<span class="nl">public:</span>
    <span class="kt">char</span> <span class="o">*</span><span class="n">m_data</span> <span class="o">=</span> <span class="nb">nullptr</span><span class="p">;</span>
    <span class="kt">int</span>  <span class="n">m_length</span> <span class="o">=</span> <span class="mi">0</span><span class="p">;</span>
    
<span class="nl">public:</span>
    <span class="n">MyString</span><span class="p">(</span><span class="k">const</span> <span class="kt">char</span> <span class="o">*</span><span class="n">source</span> <span class="o">=</span> <span class="s">""</span><span class="p">)</span>
    <span class="p">{</span>
        <span class="n">assert</span><span class="p">(</span><span class="n">source</span><span class="p">);</span>
        
        <span class="n">m_length</span> <span class="o">=</span> <span class="n">strlen</span><span class="p">(</span><span class="n">source</span><span class="p">)</span> <span class="o">+</span> <span class="mi">1</span><span class="p">;</span>
        <span class="n">m_data</span> <span class="o">=</span> <span class="k">new</span> <span class="kt">char</span><span class="p">[</span><span class="n">m_length</span><span class="p">];</span>
        
        <span class="k">for</span> <span class="p">(</span><span class="kt">int</span> <span class="n">i</span> <span class="o">=</span> <span class="mi">0</span><span class="p">;</span> <span class="n">i</span> <span class="o">&lt;</span> <span class="n">m_length</span><span class="p">;</span> <span class="o">++</span><span class="n">i</span><span class="p">)</span> <span class="p">{</span>
            <span class="n">m_data</span><span class="p">[</span><span class="n">i</span><span class="p">]</span> <span class="o">=</span> <span class="n">source</span><span class="p">[</span><span class="n">i</span><span class="p">];</span>
        <span class="p">}</span>
        
        <span class="n">m_data</span><span class="p">[</span><span class="n">m_length</span> <span class="o">-</span> <span class="mi">1</span><span class="p">]</span> <span class="o">=</span> <span class="sc">'\0'</span><span class="p">;</span>
    <span class="p">}</span>
    
    <span class="n">MyString</span><span class="p">(</span><span class="k">const</span> <span class="n">MyString</span> <span class="o">&amp;</span><span class="n">source</span><span class="p">)</span>
    <span class="p">{</span>
        <span class="n">cout</span> <span class="o">&lt;&lt;</span> <span class="o">&amp;</span><span class="n">source</span> <span class="o">&lt;&lt;</span> <span class="n">endl</span><span class="p">;</span>
        <span class="n">cout</span> <span class="o">&lt;&lt;</span> <span class="s">"Copy Constructor"</span> <span class="o">&lt;&lt;</span> <span class="n">endl</span><span class="p">;</span>
        
        <span class="n">m_length</span> <span class="o">=</span> <span class="n">source</span><span class="p">.</span><span class="n">m_length</span><span class="p">;</span>
        
        <span class="c1">//메모리를 가지고있는경우 메모리를 새로 할당 받는 코드</span>
        <span class="k">if</span><span class="p">(</span><span class="n">source</span><span class="p">.</span><span class="n">m_data</span> <span class="o">!=</span> <span class="nb">nullptr</span><span class="p">)</span>
        <span class="p">{</span>
            <span class="n">m_data</span> <span class="o">=</span> <span class="k">new</span> <span class="kt">char</span><span class="p">[</span><span class="n">m_length</span><span class="p">];</span>
            
            <span class="k">for</span> <span class="p">(</span><span class="kt">int</span> <span class="n">i</span> <span class="o">=</span> <span class="mi">0</span><span class="p">;</span> <span class="n">i</span> <span class="o">&lt;</span> <span class="n">m_length</span><span class="p">;</span> <span class="o">++</span><span class="n">i</span><span class="p">)</span> <span class="p">{</span>
                <span class="n">m_data</span><span class="p">[</span><span class="n">i</span><span class="p">]</span> <span class="o">=</span> <span class="n">source</span><span class="p">.</span><span class="n">m_data</span><span class="p">[</span><span class="n">i</span><span class="p">];</span>
            <span class="p">}</span>
        <span class="p">}</span>
        <span class="c1">//메모리를 가지고있지 않으면 널 포인터로 처리</span>
        <span class="k">else</span>
            <span class="n">m_data</span> <span class="o">=</span> <span class="nb">nullptr</span><span class="p">;</span>
    <span class="p">}</span>
    <span class="c1">//얕은복사</span>
    <span class="c1">//기본 생성자의 경우</span>
    <span class="c1">//메모리를 새로 할당하지않고 m_data, m_length 자체를 복사해준것이다.</span>
    <span class="c1">//이런것을 얕은 복사라고 한다.</span>
    
    <span class="c1">//깊은복사</span>
    <span class="c1">//메모리를새로 할당하고 m_data의 주소값은 복사를 하지않고 객체의 데이터만 복사를하는것이다.</span>
    <span class="c1">//이런것을 깊은 복사라고 한다.</span>
    
    <span class="n">MyString</span><span class="o">&amp;</span> <span class="k">operator</span> <span class="o">=</span> <span class="p">(</span><span class="k">const</span> <span class="n">MyString</span> <span class="o">&amp;</span><span class="n">source</span><span class="p">)</span>
    <span class="p">{</span>
        <span class="cm">/*
         Shallow copy
         this-&gt;m_data = source.m_data;
         this-&gt;m_length = source.m_length;
         */</span>
        <span class="n">cout</span> <span class="o">&lt;&lt;</span> <span class="s">"Assignment operator"</span> <span class="o">&lt;&lt;</span> <span class="n">endl</span><span class="p">;</span>
        
        <span class="k">if</span><span class="p">(</span><span class="k">this</span> <span class="o">==</span> <span class="o">&amp;</span><span class="n">source</span><span class="p">)</span> <span class="c1">//prevent self-assignment</span>
            <span class="k">return</span> <span class="o">*</span><span class="k">this</span><span class="p">;</span>
        <span class="c1">//자기 자신을 대입을 하는경우 진행을 막기위한 코드</span>
        
        <span class="k">delete</span> <span class="p">[]</span> <span class="n">m_data</span><span class="p">;</span>
        <span class="c1">//이미 대입받는 부분에 메모리 할당을 없애는 부분</span>
        
        <span class="n">m_length</span> <span class="o">=</span> <span class="n">source</span><span class="p">.</span><span class="n">m_length</span><span class="p">;</span>
        
        <span class="k">if</span><span class="p">(</span><span class="n">source</span><span class="p">.</span><span class="n">m_data</span> <span class="o">!=</span> <span class="nb">nullptr</span><span class="p">)</span>
        <span class="p">{</span>
            <span class="n">m_data</span> <span class="o">=</span> <span class="k">new</span> <span class="kt">char</span><span class="p">[</span><span class="n">m_length</span><span class="p">];</span>
            
            <span class="k">for</span> <span class="p">(</span><span class="kt">int</span> <span class="n">i</span> <span class="o">=</span> <span class="mi">0</span><span class="p">;</span> <span class="n">i</span> <span class="o">&lt;</span> <span class="n">m_length</span><span class="p">;</span> <span class="o">++</span><span class="n">i</span><span class="p">)</span> <span class="p">{</span>
                <span class="n">m_data</span><span class="p">[</span><span class="n">i</span><span class="p">]</span> <span class="o">=</span> <span class="n">source</span><span class="p">.</span><span class="n">m_data</span><span class="p">[</span><span class="n">i</span><span class="p">];</span>
            <span class="p">}</span>
        <span class="p">}</span>
        <span class="k">else</span>
            <span class="n">m_data</span> <span class="o">=</span> <span class="nb">nullptr</span><span class="p">;</span>
        
        <span class="k">return</span> <span class="o">*</span><span class="k">this</span><span class="p">;</span>
    <span class="p">}</span>
    
    <span class="o">~</span><span class="n">MyString</span><span class="p">()</span>
    <span class="p">{</span>
        <span class="k">delete</span> <span class="p">[]</span> <span class="n">m_data</span><span class="p">;</span>
    <span class="p">}</span>
    

    
    
    <span class="kt">char</span><span class="o">*</span> <span class="n">getString</span><span class="p">()</span> <span class="p">{</span> <span class="k">return</span> <span class="n">m_data</span><span class="p">;</span> <span class="p">}</span>
    <span class="kt">int</span> <span class="n">getLength</span><span class="p">()</span> <span class="p">{</span> <span class="k">return</span> <span class="n">m_length</span><span class="p">;</span> <span class="p">}</span>
<span class="p">};</span>

<span class="kt">int</span> <span class="n">main</span><span class="p">()</span> <span class="p">{</span>
    <span class="c1">//이번에는 대입 생성자에 대해 알아보자</span>
    <span class="c1">//깊은 복사, 얕은 복사하는 방법에 대해 알아보자</span>
    
    <span class="c1">//동적할당된 메모리에 대한 포인터를 멤버로 가지고 잇는 클래스의 경우에 복사 대입 시 깊은복사인지 얕은복사인지에 따라 대입연산자 구현이 까다로워진다.</span>
    
    <span class="n">MyString</span> <span class="n">hello</span><span class="p">(</span><span class="s">"Hello"</span><span class="p">);</span>

    <span class="n">cout</span> <span class="o">&lt;&lt;</span> <span class="p">(</span><span class="kt">int</span><span class="o">*</span><span class="p">)</span><span class="n">hello</span><span class="p">.</span><span class="n">m_data</span> <span class="o">&lt;&lt;</span> <span class="n">endl</span><span class="p">;</span>
    <span class="n">cout</span> <span class="o">&lt;&lt;</span> <span class="n">hello</span><span class="p">.</span><span class="n">getString</span><span class="p">()</span> <span class="o">&lt;&lt;</span> <span class="n">endl</span><span class="p">;</span>
    
    <span class="p">{</span>
        <span class="n">MyString</span> <span class="n">copy</span> <span class="o">=</span> <span class="n">hello</span><span class="p">;</span>
        <span class="c1">//copy가 hello를 복사 하는 코드 / 복사 생성자를 복사하는 코드</span>
        <span class="c1">//copy가 생성이 되고있으면 복사 생성자로 작동 - 여기에 해당한다.</span>
        <span class="c1">//copy = hello인 경우에는 대입으로 작동한다.</span>
        <span class="c1">//복사 생성자가 없는경우 기본 복사생성자가 작동한다.</span>
        <span class="c1">//복사 생성자 역할 = 변수를 복사해준다.</span>
        
        <span class="n">cout</span> <span class="o">&lt;&lt;</span> <span class="p">(</span><span class="kt">int</span><span class="o">*</span><span class="p">)</span><span class="n">copy</span><span class="p">.</span><span class="n">m_data</span> <span class="o">&lt;&lt;</span> <span class="n">endl</span><span class="p">;</span>
        <span class="n">cout</span> <span class="o">&lt;&lt;</span> <span class="n">copy</span><span class="p">.</span><span class="n">getString</span><span class="p">()</span> <span class="o">&lt;&lt;</span> <span class="n">endl</span><span class="p">;</span>
    <span class="p">}</span>
    
    <span class="n">cout</span> <span class="o">&lt;&lt;</span> <span class="n">hello</span><span class="p">.</span><span class="n">getString</span><span class="p">()</span> <span class="o">&lt;&lt;</span> <span class="n">endl</span><span class="p">;</span>
    <span class="c1">//생성자  소멸자만 있는경우 쓰레기값 오류가 발생한다.</span>
    <span class="c1">//원인</span>
    <span class="c1">//copy할때 hello의 주소를 복사만 한것을 가져온것이다.</span>
    <span class="c1">//copy와 hello는 같은 주소를 가지고있는것이다.</span>
    <span class="c1">//copy영역에서 벗어나면서 소멸자가 실행이 되어  copy의 주소가 사라지게 된다.</span>
    <span class="c1">//근데 그전에 뭐라고 말했었나? copy는 hello의 주소를 복사한것이라고</span>
    <span class="c1">//hello와 copy의 주소가같은데 copy의 주소를 삭제했다?</span>
    <span class="c1">//hello의 주소도 같이 사라질것이다.</span>
    <span class="c1">//그래서 hello의 주소가 존재하지않는데 hello에 접근하려고 하여 쓰레기값이 출력이 되는것이다.</span>
    
    <span class="c1">//동적 할당을 사용하는 경우에는 복사 생성자나 대입연산자를 오버로딩할때 주의해야한다.</span>
    
    
    
    <span class="c1">//use Assignment operator</span>
    <span class="n">MyString</span> <span class="n">str2</span><span class="p">;</span>
    <span class="n">str2</span> <span class="o">=</span> <span class="n">hello</span><span class="p">;</span>
    
      
    <span class="c1">//차이점</span>
    <span class="n">MyString</span> <span class="n">str3</span> <span class="o">=</span> <span class="n">hello</span><span class="p">;</span>
    <span class="c1">//Copy Constructor</span>
    <span class="n">MyString</span> <span class="n">str4</span><span class="p">;</span>
    <span class="n">str4</span> <span class="o">=</span> <span class="n">hello</span><span class="p">;</span>
    <span class="c1">//Assignment operator</span>
    
    <span class="c1">//헷갈림 방지</span>
    <span class="n">MyString</span> <span class="n">str5</span><span class="p">(</span><span class="n">hello</span><span class="p">);</span>   <span class="c1">//MyString str5 = hello;</span>
    
    <span class="c1">//가끔 복사 생성자를 구분하기 애매한경우</span>
    <span class="c1">//Shallow copy를 막는 방법</span>
    <span class="c1">//기본 복사 생성자를 막는것이 존재한다.</span>
    <span class="c1">//MyString(const MyString &amp;source) = delete;</span>
    <span class="c1">//임시방법이지 복사 생성자를 구현하는것이 좋다.</span>
    
    <span class="k">return</span> <span class="mi">0</span><span class="p">;</span>
<span class="p">}</span>  
</pre></table></code></div></div><h2 id="이니셜라이져-리스트-initializer-list"><span class="mr-2">이니셜라이져 리스트 initializer list</span><a href="#이니셜라이져-리스트-initializer-list" class="anchor text-muted"><i class="fas fa-hashtag"></i></a></h2><div class="language-cpp highlighter-rouge"><div class="code-header"> <span data-label-text="Cpp"><i class="fas fa-code small"></i></span> <button aria-label="copy" data-title-succeed="Copied!"><i class="far fa-clipboard"></i></button></div><div class="highlight"><code><table class="rouge-table"><tbody><tr><td class="rouge-gutter gl"><pre class="lineno">1
2
3
4
5
6
7
8
9
10
11
12
13
14
15
16
17
18
19
20
21
22
23
24
25
26
27
28
29
30
31
32
33
34
35
36
37
38
39
40
41
42
43
44
45
46
47
48
49
50
51
52
53
54
55
56
57
58
59
60
61
62
63
64
65
66
67
68
69
70
71
72
73
74
75
76
</pre><td class="rouge-code"><pre><span class="c1">// 이니셜라이저 리스트</span>
<span class="c1">// initializer_list</span>

<span class="cp">#include</span> <span class="cpf">&lt;iostream&gt;</span><span class="cp">
#include</span> <span class="cpf">&lt;cassert&gt;</span><span class="cp">
#include</span> <span class="cpf">&lt;initializer_list&gt;</span><span class="cp">
</span>
<span class="k">using</span> <span class="k">namespace</span> <span class="n">std</span><span class="p">;</span>

<span class="k">class</span> <span class="nc">IntArray</span>
<span class="p">{</span>
<span class="nl">private:</span>
    <span class="kt">unsigned</span> <span class="n">m_length</span> <span class="o">=</span> <span class="mi">0</span><span class="p">;</span>
    <span class="kt">int</span> <span class="o">*</span><span class="n">m_data</span> <span class="o">=</span> <span class="nb">nullptr</span><span class="p">;</span>
    
<span class="nl">public:</span>
    <span class="n">IntArray</span><span class="p">(</span><span class="kt">unsigned</span> <span class="n">length</span><span class="p">)</span> <span class="o">:</span> <span class="n">m_length</span><span class="p">(</span><span class="n">length</span><span class="p">)</span>
    <span class="p">{</span>
        <span class="n">m_data</span> <span class="o">=</span> <span class="k">new</span> <span class="kt">int</span><span class="p">[</span><span class="n">length</span><span class="p">];</span>
    <span class="p">}</span>
    
    <span class="n">IntArray</span><span class="p">(</span><span class="k">const</span> <span class="n">initializer_list</span><span class="o">&lt;</span><span class="kt">int</span><span class="o">&gt;</span> <span class="o">&amp;</span><span class="n">list</span><span class="p">)</span> <span class="o">:</span> <span class="n">IntArray</span><span class="p">(</span><span class="n">list</span><span class="p">.</span><span class="n">size</span><span class="p">())</span>
    <span class="p">{</span>
        <span class="kt">int</span> <span class="n">count</span> <span class="o">=</span> <span class="mi">0</span><span class="p">;</span>
        <span class="k">for</span> <span class="p">(</span><span class="k">auto</span> <span class="o">&amp;</span><span class="n">e</span> <span class="o">:</span> <span class="n">list</span><span class="p">)</span>
        <span class="p">{</span>
            <span class="n">m_data</span><span class="p">[</span><span class="n">count</span><span class="p">]</span> <span class="o">=</span> <span class="n">e</span><span class="p">;</span>
            <span class="o">++</span><span class="n">count</span><span class="p">;</span>
        <span class="p">}</span>
        
<span class="c1">//        for (unsigned count = 0; count &lt; list.size(); ++count) {</span>
<span class="c1">//            m_data[count] = list[count];</span>
<span class="c1">//        }</span>
        <span class="c1">//오류 발생원인</span>
        <span class="c1">//initializer_list는 [] 연산자를 제공하지않아 사용하지못한다.</span>
        
    <span class="p">}</span>
    
    <span class="n">IntArray</span><span class="p">()</span>
    
    <span class="o">~</span><span class="n">IntArray</span><span class="p">()</span>
    <span class="p">{</span>
        <span class="k">delete</span> <span class="p">[]</span> <span class="k">this</span><span class="o">-&gt;</span><span class="n">m_data</span><span class="p">;</span>
    <span class="p">}</span>
    
    <span class="k">friend</span> <span class="n">ostream</span> <span class="o">&amp;</span> <span class="k">operator</span> <span class="o">&lt;&lt;</span> <span class="p">(</span><span class="n">ostream</span> <span class="o">&amp;</span><span class="n">out</span><span class="p">,</span> <span class="n">IntArray</span> <span class="o">&amp;</span> <span class="n">arr</span><span class="p">)</span>
    <span class="p">{</span>
        <span class="k">for</span> <span class="p">(</span><span class="kt">unsigned</span> <span class="kt">int</span> <span class="n">i</span> <span class="o">=</span> <span class="mi">0</span><span class="p">;</span> <span class="n">i</span> <span class="o">&lt;</span> <span class="n">arr</span><span class="p">.</span><span class="n">m_length</span><span class="p">;</span> <span class="o">++</span><span class="n">i</span><span class="p">)</span> <span class="p">{</span>
            <span class="n">out</span> <span class="o">&lt;&lt;</span> <span class="n">arr</span><span class="p">.</span><span class="n">m_data</span><span class="p">[</span><span class="n">i</span><span class="p">]</span> <span class="o">&lt;&lt;</span> <span class="s">" "</span><span class="p">;</span>
        <span class="p">}</span>
        <span class="n">out</span> <span class="o">&lt;&lt;</span> <span class="n">endl</span><span class="p">;</span>
        <span class="k">return</span> <span class="n">out</span><span class="p">;</span>
    <span class="p">}</span>
    
<span class="p">};</span>
<span class="kt">int</span> <span class="n">main</span><span class="p">()</span> <span class="p">{</span>
    <span class="c1">//이번에는 이니셜라이저 리스트를 알아보자</span>
    <span class="c1">//사용자 정의 자료형에서 생성자나 대입 연산자를 만들때 편하게 만들기 위해 사용하는 방법이다.</span>
    
    <span class="kt">int</span> <span class="n">arr1</span><span class="p">[</span><span class="mi">5</span><span class="p">]</span> <span class="o">=</span><span class="p">{</span><span class="mi">1</span><span class="p">,</span><span class="mi">2</span><span class="p">,</span><span class="mi">3</span><span class="p">,</span><span class="mi">4</span><span class="p">,</span><span class="mi">5</span><span class="p">};</span>
    
    <span class="kt">int</span> <span class="o">*</span><span class="n">arr2</span> <span class="o">=</span> <span class="k">new</span> <span class="kt">int</span><span class="p">[</span><span class="mi">5</span><span class="p">]{</span><span class="mi">1</span><span class="p">,</span><span class="mi">2</span><span class="p">,</span><span class="mi">3</span><span class="p">,</span><span class="mi">4</span><span class="p">,</span><span class="mi">5</span><span class="p">};</span>
    
    <span class="k">auto</span> <span class="n">il</span> <span class="o">=</span> <span class="p">{</span><span class="mi">10</span><span class="p">,</span><span class="mi">20</span><span class="p">,</span><span class="mi">30</span><span class="p">};</span>
    
    <span class="n">IntArray</span> <span class="n">int_arr</span> <span class="p">{</span><span class="mi">1</span><span class="p">,</span><span class="mi">2</span><span class="p">,</span><span class="mi">3</span><span class="p">,</span><span class="mi">4</span><span class="p">,</span><span class="mi">5</span><span class="p">};</span>
    <span class="c1">//initializer_list 생성자 없으면 오류 발생</span>
    <span class="n">cout</span> <span class="o">&lt;&lt;</span> <span class="n">int_arr</span> <span class="o">&lt;&lt;</span> <span class="n">endl</span><span class="p">;</span>
    <span class="c1">//initializer_list 생성자 구현시 = 연산자 오버로딩도 같이 구현하는것이 좋다.</span>
        
    <span class="n">initializer_list</span><span class="o">&lt;</span><span class="kt">int</span><span class="o">&gt;</span> <span class="n">test</span><span class="p">;</span>
    
    <span class="n">test</span> <span class="o">=</span> <span class="n">int_arr</span>
    
    <span class="k">return</span> <span class="mi">0</span><span class="p">;</span>
<span class="p">}</span>
</pre></table></code></div></div></div><div class="post-tail-wrapper text-muted"><div class="post-meta mb-3"> <i class="far fa-folder-open fa-fw mr-1"></i> <a href='/categories/language/'>Language</a>, <a href='/categories/c/'>C++</a></div><div class="post-tags"> <i class="fa fa-tags fa-fw mr-1"></i> <a href="/tags/c/" class="post-tag no-text-decoration" >c++</a></div><div class="post-tail-bottom d-flex justify-content-between align-items-center mt-3 pt-5 pb-2"><div class="license-wrapper"> This post is licensed under <a href="https://creativecommons.org/licenses/by/4.0/"> CC BY 4.0 </a> by the author.</div><div class="share-wrapper"> <span class="share-label text-muted mr-1">Share</span> <span class="share-icons"> <a href="https://twitter.com/intent/tweet?text=%5BC%2B%2B%5D+Chapter.9+%EC%97%B0%EC%82%B0%EC%9E%90+%EC%98%A4%EB%B2%84%EB%A1%9C%EB%94%A9+-+YdO-ObY&url=https%3A%2F%2Fydo-oby.github.io%2F%2Fposts%2FCpp-Ch9%2F" data-toggle="tooltip" data-placement="top" title="Twitter" target="_blank" rel="noopener" aria-label="Twitter"> <i class="fa-fw fab fa-twitter"></i> </a> <a href="https://www.facebook.com/sharer/sharer.php?title=%5BC%2B%2B%5D+Chapter.9+%EC%97%B0%EC%82%B0%EC%9E%90+%EC%98%A4%EB%B2%84%EB%A1%9C%EB%94%A9+-+YdO-ObY&u=https%3A%2F%2Fydo-oby.github.io%2F%2Fposts%2FCpp-Ch9%2F" data-toggle="tooltip" data-placement="top" title="Facebook" target="_blank" rel="noopener" aria-label="Facebook"> <i class="fa-fw fab fa-facebook-square"></i> </a> <a href="https://t.me/share/url?url=https%3A%2F%2Fydo-oby.github.io%2F%2Fposts%2FCpp-Ch9%2F&text=%5BC%2B%2B%5D+Chapter.9+%EC%97%B0%EC%82%B0%EC%9E%90+%EC%98%A4%EB%B2%84%EB%A1%9C%EB%94%A9+-+YdO-ObY" data-toggle="tooltip" data-placement="top" title="Telegram" target="_blank" rel="noopener" aria-label="Telegram"> <i class="fa-fw fab fa-telegram"></i> </a> <i id="copy-link" class="fa-fw fas fa-link small" data-toggle="tooltip" data-placement="top" title="Copy link" data-title-succeed="Link copied successfully!"> </i> </span></div></div></div></div></div><div id="panel-wrapper" class="col-xl-3 pl-2 text-muted"><div class="access"><div id="access-lastmod" class="post"><div class="panel-heading">Recently Updated</div><ul class="post-content pl-0 pb-1 ml-1 mt-2"><li><a href="/posts/Day1/">[개발일지] 1일차 개발일지 작성시작</a><li><a href="/posts/Day2/">[개발일지] 2일차 개발일지 - 기획시작 1</a><li><a href="/posts/Cpp-Ch10/">[C++] Chapter.10 객체들 사이의 관계에 대해</a><li><a href="/posts/Cpp-Ch15/">[C++] Chapter.15 의미론적 이동과 스마트포인터</a><li><a href="/posts/Cpp-Ch14/">[C++] Chapter.14 예외처리</a></ul></div><div id="access-tags"><div class="panel-heading">Trending Tags</div><div class="d-flex flex-wrap mt-3 mb-1 mr-3"> <a class="post-tag" href="/tags/c/">c++</a> <a class="post-tag" href="/tags/github-pages/">github pages</a> <a class="post-tag" href="/tags/jekyll/">jekyll</a> <a class="post-tag" href="/tags/c/">c#</a> <a class="post-tag" href="/tags/unity/">unity</a> <a class="post-tag" href="/tags/chripy/">chripy</a> <a class="post-tag" href="/tags/github/">github</a></div></div></div><script src="https://cdn.jsdelivr.net/gh/afeld/bootstrap-toc@1.0.1/dist/bootstrap-toc.min.js"></script><div id="toc-wrapper" class="pl-0 pr-4 mb-5"><div class="panel-heading pl-3 pt-2 mb-2">Contents</div><nav id="toc" data-toggle="toc"></nav></div></div></div><div class="row"><div id="tail-wrapper" class="col-12 col-lg-11 col-xl-9 pl-3 pr-3 pr-xl-4"><div id="related-posts" class="mt-5 mb-2 mb-sm-4"><h3 class="pt-2 mt-1 mb-4 ml-1" data-toc-skip>Further Reading</h3><div class="card-deck mb-4"><div class="card"> <a href="/posts/Cpp-Ch12/"><div class="card-body"> <em class="small" data-ts="1664025619" data-df="ll" > Sep 24, 2022 </em><h3 class="pt-0 mt-1 mb-3" data-toc-skip>[C++] Chapter.12 가상 함수들</h3><div class="text-muted small"><p> 다형성의 기본 개념 // 다형성의 기본 개념 // 자식 클래스의 객체에 부모 클래스의 포인터를 사용한다면? #include &amp;lt;iostream&amp;gt; #include &amp;lt;string&amp;gt; using namespace std; class Animal { protected: string m_name; public: ...</p></div></div></a></div><div class="card"> <a href="/posts/Cpp-Ch13/"><div class="card-body"> <em class="small" data-ts="1664025619" data-df="ll" > Sep 24, 2022 </em><h3 class="pt-0 mt-1 mb-3" data-toc-skip>[C++] Chapter.13 템플릿</h3><div class="text-muted small"><p> 함수 템플릿 // 함수 템플릿 #include &amp;lt;iostream&amp;gt; #include &quot;Cents.hpp&quot; using namespace std; //int getMax(int x ,int y) //{ // return (x &amp;gt; y) ? x : y; //} // //double getMax(double x ,double y) //...</p></div></div></a></div><div class="card"> <a href="/posts/Cpp-Ch14/"><div class="card-body"> <em class="small" data-ts="1664025619" data-df="ll" > Sep 24, 2022 </em><h3 class="pt-0 mt-1 mb-3" data-toc-skip>[C++] Chapter.14 예외처리</h3><div class="text-muted small"><p> 예외처리의 기본 // 예외 처리의 기본 // Exception Handing #include &amp;lt;iostream&amp;gt; #include &amp;lt;string&amp;gt; #include &amp;lt;fstream&amp;gt; #include &amp;lt;algorithm&amp;gt; #include &amp;lt;cmath&amp;gt; using namespace std; //ch...</p></div></div></a></div></div></div><div class="post-navigation d-flex justify-content-between"> <a href="/posts/Cpp-Ch8/" class="btn btn-outline-primary" prompt="Older"><p>[C++] Chapter.8 객체지향의 기초</p></a> <a href="/posts/Day1/" class="btn btn-outline-primary" prompt="Newer"><p>[개발일지] 1일차 개발일지 작성시작</p></a></div></div></div><footer class="row pl-3 pr-3"><div class="col-12 d-flex justify-content-between align-items-center text-muted pl-0 pr-0"><div class="footer-left"><p class="mb-0"> © 2022 <a href="https://github.com/YdO-ObY">YdO-ObY</a>. <span data-toggle="tooltip" data-placement="top" title="Except where otherwise noted, the blog posts on this site are licensed under the Creative Commons Attribution 4.0 International (CC BY 4.0) License by the author.">Some rights reserved.</span></p></div><div class="footer-right"><p class="mb-0"> Powered by <a href="https://jekyllrb.com" target="_blank" rel="noopener">Jekyll</a> with <a href="https://github.com/cotes2020/jekyll-theme-chirpy" target="_blank" rel="noopener">Chirpy</a> theme.</p></div></div></footer></div><div id="search-result-wrapper" class="d-flex justify-content-center unloaded"><div class="col-12 col-sm-11 post-content"><div id="search-hints"><div id="access-tags"><div class="panel-heading">Trending Tags</div><div class="d-flex flex-wrap mt-3 mb-1 mr-3"> <a class="post-tag" href="/tags/c/">c++</a> <a class="post-tag" href="/tags/github-pages/">github pages</a> <a class="post-tag" href="/tags/jekyll/">jekyll</a> <a class="post-tag" href="/tags/c/">c#</a> <a class="post-tag" href="/tags/unity/">unity</a> <a class="post-tag" href="/tags/chripy/">chripy</a> <a class="post-tag" href="/tags/github/">github</a></div></div></div><div id="search-results" class="d-flex flex-wrap justify-content-center text-muted mt-3"></div></div></div></div><div id="mask"></div><a id="back-to-top" href="#" aria-label="back-to-top" class="btn btn-lg btn-box-shadow" role="button"> <i class="fas fa-angle-up"></i> </a><div id="notification" class="toast" role="alert" aria-live="assertive" aria-atomic="true" data-animation="true" data-autohide="false"><div class="toast-header"> <button type="button" class="ml-2 ml-auto close" data-dismiss="toast" aria-label="Close"> <span aria-hidden="true">&times;</span> </button></div><div class="toast-body text-center pt-0"><p class="pl-2 pr-2 mb-3">A new version of content is available.</p><button type="button" class="btn btn-primary" aria-label="Update"> Update </button></div></div><script src="https://cdn.jsdelivr.net/npm/simple-jekyll-search@1.10.0/dest/simple-jekyll-search.min.js"></script> <script> SimpleJekyllSearch({ searchInput: document.getElementById('search-input'), resultsContainer: document.getElementById('search-results'), json: '/assets/js/data/search.json', searchResultTemplate: '<div class="pl-1 pr-1 pl-sm-2 pr-sm-2 pl-lg-4 pr-lg-4 pl-xl-0 pr-xl-0"> <a href="{url}">{title}</a><div class="post-meta d-flex flex-column flex-sm-row text-muted mt-1 mb-1"> {categories} {tags}</div><p>{snippet}</p></div>', noResultsText: '<p class="mt-5">Oops! No results found.</p>', templateMiddleware: function(prop, value, template) { if (prop === 'categories') { if (value === '') { return `${value}`; } else { return `<div class="mr-sm-4"><i class="far fa-folder fa-fw"></i>${value}</div>`; } } if (prop === 'tags') { if (value === '') { return `${value}`; } else { return `<div><i class="fa fa-tag fa-fw"></i>${value}</div>`; } } } }); </script> <script src="https://cdn.jsdelivr.net/combine/npm/magnific-popup@1/dist/jquery.magnific-popup.min.js,npm/lozad/dist/lozad.min.js,npm/clipboard@2/dist/clipboard.min.js"></script> <script src="https://cdn.jsdelivr.net/combine/npm/dayjs@1/dayjs.min.js,npm/dayjs@1/locale/en.min.js,npm/dayjs@1/plugin/relativeTime.min.js,npm/dayjs@1/plugin/localizedFormat.min.js"></script> <script defer src="/assets/js/dist/post.min.js"></script> <script src="https://cdn.jsdelivr.net/npm/bootstrap@4/dist/js/bootstrap.bundle.min.js"></script> <script defer src="/app.js"></script>
