---
title: "[C++] Chapter.4 변수범위와 더 다양한 변수형"
date: 2022-09-01 21:39:12 +0900
categories: [Language ,C++]
tags: [c++]
---
<hr>


## 지역 변수, 범위, 지속시간

```cpp
//  지역 변수의 범위와 지속시간
//  Scope / Duration

#include <iostream>

using namespace std;


//같은변수여서 충돌이 난다.
//int a = 1;
//
//int a = 1;

//함수 선언 정의분리가능
//선언은 여러곳 가능 정의는 한번만 가능


//함수중 이름은 같은데 파라미터가 다른경우에는 충돌이일어나지않는다.
//충돌을 막기위하여 네임스페이스를 사용하여 분리를 해준다.
namespace work1
{
    int a = 1;
}

namespace work2
{
    int a = 3;
}

//네임스페이스안에 네임스페이스를 또 만들수 있다.
//네스티드 영역은 되도록이면 적게사용하는것이 좋다.
namespace work3::work33::work333
{
    int a = 3;
}



int main() {
    //블록 명칭공간,이름충돌, 이름숨기기
    
    //범위 Scope 눈으로 볼수았는 범위 뉘앙스
    //어디서 내가 변수를 사용할수있는가 볼수있다
    
    //지속기간 메모리에 얼마나 사용할수있는가
    
    
    //동적 할당 사용시 >> 지역, 지속기간 분리가 된다.
    
    //apple = 1;
    //변수가 선언전이라 안되어있어서 사용불가
    
    //변수 선언
    int apple = 5;
    cout << apple << endl;
        //5
    
    //블록 지정
    {
        //블록 밖에서 선언한변수는블록 안에서도 사용가능하다.
        apple = 1;
        cout << apple << endl;
        //1
        //이 apple은 다른 apple이다.
        //더 작은 영역안에같은변수가 있는경우 밖의 apple은 숨겨진다. hiding
        //블록간의 이름은분리하는게 좋다. 헷갈린다. 보기 안좋다.
        
        int apple = 6;
        cout << apple << endl;
        //6
    }
    cout << apple << endl;
    //1
    
    
    apple = 1;
    
    //:: 영역/범위 결정 연산자  스코프 레졸루션? 오퍼레이터
    work1::a;
    work2::a;
}
//메모리 반납 후
//apple = 3;
//변수선언된 범위가 아니여서 사용불가

```

## 전역 변수, 정적 변수, 내부 연결, 외부 연결
```cpp
//
//  main.cpp
//  4.2
//
//  Created by YdO_ObY on 2022/09/03.
//
//  전역 변수, 정적 변수, 내부 연결, 외부 연결
//  Global Static Internal External

#include <iostream>

using namespace std;

//전역변수
int value = 123;
int global_a = 1;

//정적변수 지속변수
void doSomething()
{
    //정적변수 선언
    static int a = 1;
    
    ++a;
    ++global_a;
    
    cout << a << " " << global_a << endl;
    
    //static global 차이
    //static os로부터받은 메모리가 static이다.
    //동적 할당 배우면서 정확하게 알게 된다.
    //지역변수, 전역변수(일반 변수들)는 메모리 활동이 블록을 벗어나면 메모리를 반납햇다가 다시 선언하게 되면 다시 할당됫다 한다.
    
    //정적변수는 메모리가 고정으로 잡혀있는것이다. 블록을 벗어나고 다시 블록에 접근하여 사용할때 메모리를 다시할당하는것이아니라 원래 메모리주소를 사용한다.
    //정적변수는 초기화를하지않으면 사용하지 못한다.
    
    
}


int main() {
    
    //블록 내에서만작용 하는 변수 = 지역변수
    
    //어디서든 사용 가능한 변수 = 전역변수
    //편한것처럼 보이지만
    //가급적 사용을 하지 말아야 한다.
    //그렇지만, 여러가지 이유로 부득이하게 사용하게 된다.

    
    //지역변수의 경우 링키지가 없다.
    //특정 파일 내에선 어디서든 사용가능한 연결 = 내부연결
    //파일내에 선언한 변수를 다른 파일에서 사용하는 연결 = 외부연결
    
    //전역변수 123 출력
    cout << value << endl;
    //전역변수 123 출력
    
    //지역변수 블록 벗어나면 사용, 접근 불가
    int value = 1;
    
    cout << value << endl;
    //지역변수 1 출력
    
    //golbal scope operator사용하여 전역변수 사용가능
    cout << ::value << endl;
    //전역 변수 123 출력
    
    
    
    doSomething();
    //2 출력
    doSomething();
    //3 출력 일반변수 사용시 2로 출력
}


```